(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{281:function(t,e,n){},282:function(t,e,n){},297:function(t,e,n){},523:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),r=n(24),i=n.n(r),o=(n(281),n(282),n(12)),c=n(11),u=n(15),l=n(14),d=n(100),p=n(28),h=n(9),j=n.n(h),b=n(39),f=n(18),x=n(7),O="SET_AUTHENTICATE",y="SET_ID_TOKEN",m="SET_SHOPS",g="DELETE_SHOP",v="UPDATE_SHOP",S="DELETE_PRODUCT",k="UPDATE_PRODUCT",C="ADD_PRODUCT",P="CREATE_SHOP",w="SET_USER_SHOPS",D="SET_PRODUCTS",T="ADD_PRODUCT_TO_CART",I="DELETE_PRODUCT_FROM_CART",A="UPDATE_CART",E=function(t){return{type:O,payload:{isAuthenticated:t}}},U=function(t){return{type:y,payload:{idToken:t}}},N=function(t){return{type:m,payload:{shops:t}}},F=function(t){return{type:D,payload:{products:t}}},W=function(t){return{type:g,payload:{shopID:t}}},B=function(t){return{type:S,payload:{productID:t}}},R=function(t){return{type:v,payload:{updatedShop:t}}},z=function(t){return{type:C,payload:{productAdded:t}}},M=function(t){return{type:A,payload:{cartProducts:t}}},q=function(t){return{type:P,payload:{createdShop:t}}},L=function(t){return{type:k,payload:{updatedProduct:t}}},Q=n(160);n(283);"undefined"===typeof window||Q.a.apps.length||Q.a.initializeApp({apiKey:"AIzaSyDoDsFyMx1bfaWqOCy83xyt2EvkE2O46nM",authDomain:"minishopify-sysc4806.firebaseapp.com",databaseURL:"https://minishopify-sysc4806-default-rtdb.firebaseio.com",projectId:"minishopify-sysc4806",storageBucket:"minishopify-sysc4806.appspot.com",messagingSenderId:"283125325434",appId:"1:283125325434:web:a0bd08e9edcab20524a5c3",measurementId:"G-NTFEGXXLW6"});var _=Q.a,H=n(193).createStore;var V={isAuthenticated:!1,idToken:"",shops:[],cartProducts:[],products:[],userShops:[]},G=H((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(t));if(e.type===O&&(n.isAuthenticated=e.payload.isAuthenticated),e.type===y&&(n.idToken=e.payload.idToken),e.type===m){n.shops=e.payload.shops;var a=_.auth().currentUser;if(null!==a){var s=e.payload.shops.filter((function(t){return t.ownerEmail===a.email}));n.userShops=s}}if(e.type===D&&(n.products=e.payload.products),e.type===T){var r=e.payload.productAdded,i=n.cartProducts.filter((function(t){return t.productID===r.productID}));if(0===i.length){var o=n.cartProducts;o.push(r),n.cartProducts=o}else n.cartProducts.forEach((function(t){t.productID!==r.productID||t.selectedQuantity+r.selectedQuantity<=t.quantity&&(t.selectedQuantity+=r.selectedQuantity)}))}if(e.type===A&&(n.cartProducts=e.payload.cartProducts),e.type===I){var c=e.payload.productDeleted,u=n.cartProducts.filter((function(t){return t.productID!==c.productID}));n.cartProducts=u}if(e.type===w&&(n.userShops=e.payload.userShops),e.type===g){var l=n.shops.filter((function(t){return t.shopID!==e.payload.shopID})),d=_.auth().currentUser;if(null!==d){var p=l.filter((function(t){return t.ownerEmail===d.email}));n.userShops=p}n.shops=l}if(e.type===v){var h=n.shops.filter((function(t){return t.shopID!==e.payload.updatedShop.shopID}));h.push(e.payload.updatedShop);var j=_.auth().currentUser;if(null!==j){var b=h.filter((function(t){return t.ownerEmail===j.email}));n.userShops=b}n.shops=h}if(e.type===S){var f=n.products.filter((function(t){return t.productID!==e.payload.productID}));n.products=f}if(e.type===C&&n.products.push(e.payload.productAdded),e.type===P&&(n.userShops.push(e.payload.createdShop),n.shops.push(e.payload.createdShop)),e.type===k){var x=n.products.filter((function(t){return t.productID!==e.payload.updatedProduct.productID}));x.push(e.payload.updatedProduct),n.products=x}return n}),function(){try{var t=localStorage.getItem("state");if(null===t)return;return JSON.parse(t)}catch(e){return void console.log(e)}}(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());G.subscribe((function(){return function(t){try{var e=JSON.stringify(t);localStorage.setItem("state",e)}catch(n){console.log(n)}}(G.getState())}));var X=G,J=new(function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"signIn",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n,a,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,a="Unable to sign in!",t.next=3,this.signInWithEmailAndPassword(e.email,e.password).then((function(t){var e=Object(b.a)(t,2);n=e[0],a=e[1]}));case 3:if(!n){t.next=9;break}return t.next=6,this.getIdToken();case 6:s=t.sent,X.dispatch(E(!0)),X.dispatch(U(s));case 9:return t.abrupt("return",[n,a]);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"signOut",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.auth().signOut().then((function(){return X.dispatch(E(!1)),X.dispatch(U("")),X.dispatch({type:w,payload:{userShops:[]}}),!0})).catch((function(t){return!1}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"createAccount",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n,a,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,a="Unable to create an Account!",t.next=3,this.createAccountWithEmailAndPassword(e.email,e.password).then((function(t){var e=Object(b.a)(t,2);n=e[0],a=e[1]}));case 3:if(!n){t.next=11;break}return t.next=6,this.updateUserName(e.name);case 6:return t.next=8,this.getIdToken();case 8:s=t.sent,X.dispatch(E(!0)),X.dispatch(U(s));case 11:return t.abrupt("return",[n,a]);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getIdToken",value:function(){var t=Object(f.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=_.auth().currentUser)){t.next=5;break}return t.next=4,e.getIdToken().then((function(t){return t})).catch((function(t){return!1}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"createAccountWithEmailAndPassword",value:function(){var t=Object(f.a)(j.a.mark((function t(e,n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.auth().createUserWithEmailAndPassword(e,n).then((function(t){return[!0,"Account Successfully created!"]})).catch((function(t){return[!1,t.message]}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"signInWithEmailAndPassword",value:function(){var t=Object(f.a)(j.a.mark((function t(e,n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.auth().signInWithEmailAndPassword(e,n).then((function(t){return[!0,"Welcome back "+t.user.displayName+"!"]})).catch((function(t){return[!1,t.message]}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"updateUserName",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(n=_.auth().currentUser)){t.next=5;break}return t.next=4,n.updateProfile({displayName:e}).then((function(t){return!0})).catch((function(t){return!1}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}()),$=n(586),K=n(560),Y=n(76),Z=n(588),tt=n(583),et=n(564),nt=n(559),at=n(565),st=n(265),rt=n(153),it=n.n(rt),ot=n(154),ct=n.n(ot),ut=n(259),lt=n.n(ut),dt=n(258),pt=n.n(dt),ht=n(33),jt="#00ab55",bt="https://source.unsplash.com/random",ft="https://source.unsplash.com/random",xt=n(582),Ot=n(1),yt=Object(st.a)({spacing:[0,4,8,16,32,64]}),mt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={name:"",email:"",password:"",redirectToSignIn:!1,showPassword:!1,registrationFailed:!1,message:"",openNotification:!1,createAccountSuccess:!1},a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a.toggleVisibility=a.toggleVisibility.bind(Object(x.a)(a)),a.handleClose=a.handleClose.bind(Object(x.a)(a)),a.showNotificationPop=a.showNotificationPop.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"toggleVisibility",value:function(){var t=this.state.showPassword;this.setState({showPassword:!t})}},{key:"handleClose",value:function(){this.setState({openNotification:!1})}},{key:"showNotificationPop",value:function(){return Object(Ot.jsx)($.a,{open:this.state.openNotification,autoHideDuration:6e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(Ot.jsx)(xt.a,{onClose:this.handleClose,severity:this.state.createAccountSuccess?"success":"error",variant:"filled",children:this.state.message})})}},{key:"handleSubmit",value:function(){var t=Object(f.a)(j.a.mark((function t(){var e,n,a,s,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===(e={name:this.state.name,email:this.state.email,password:this.state.password}).email||""===e.password){t.next=10;break}return t.next=4,J.createAccount(e);case 4:n=t.sent,a=Object(b.a)(n,2),s=a[0],r=a[1],s||this.setState({registrationFailed:!0}),this.setState({message:r,openNotification:!0,createAccountSuccess:s});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(Ot.jsxs)("div",{className:"BackgroundAuth",children:[this.showNotificationPop(),this.state.redirectToSignIn&&Object(Ot.jsx)(p.a,{to:{pathname:"/sign-in"}}),this.props.isAuthenticated&&Object(Ot.jsx)(p.a,{to:{pathname:"/"}}),Object(Ot.jsxs)(K.a,{container:!0,component:"main",style:{height:"100vh"},children:[Object(Ot.jsx)("div",{className:"LeftGridPhoto"}),Object(Ot.jsxs)("div",{className:"RightGrid",children:[Object(Ot.jsx)("div",{className:"AuthPlacement",children:Object(Ot.jsxs)("p",{children:["Already have an account?",Object(Ot.jsx)("a",{className:"AuthRedirectLink",onClick:function(){return t.setState({redirectToSignIn:!0})},children:"Sign In"})]})}),Object(Ot.jsxs)("div",{className:"SignInGrid",children:[Object(Ot.jsxs)("div",{className:"AuthDescriptionBox",children:[Object(Ot.jsxs)("div",{className:"AuthDescription",children:[Object(Ot.jsx)(Y.a,{component:"h1",variant:"h5",style:{paddingBottom:"10px",alignSelf:"start"},children:"Create your account on MiniShopify"}),Object(Ot.jsx)(Y.a,{component:"h1",variant:"subtitle1",style:{paddingBottom:"10px",alignSelf:"flex-start"},children:"Enter your details below."})]}),Object(Ot.jsx)("div",{children:Object(Ot.jsx)(Z.a,{title:"Firebase",children:Object(Ot.jsx)("img",{className:"FireboxImg",src:"/static/icons/firebase.png"})})})]}),Object(Ot.jsxs)("form",{style:{width:"100%",marginTop:"1px"},action:void 0,children:[Object(Ot.jsx)(K.a,{container:!0,style:{flexGrow:1},children:Object(Ot.jsx)(K.a,{sm:12,item:!0,children:Object(Ot.jsx)(tt.a,{InputProps:{startAdornment:Object(Ot.jsx)(et.a,{position:"start",children:Object(Ot.jsx)(pt.a,{htmlColor:jt})})},value:this.state.name,onChange:function(e){return t.setState({name:e.target.value})},variant:"outlined",margin:"normal",fullWidth:!0,label:"Name",name:"name",required:!0,autoFocus:!0})})}),Object(Ot.jsx)(tt.a,{helperText:this.state.registrationFailed?"Incorrect Entry":"",InputProps:{startAdornment:Object(Ot.jsx)(et.a,{position:"start",children:Object(Ot.jsx)(lt.a,{htmlColor:jt})})},value:this.state.email,onChange:function(e){return t.setState({email:e.target.value})},error:this.state.registrationFailed,variant:"outlined",margin:"normal",fullWidth:!0,id:"email",type:"email",label:"Email Address",name:"email",autoComplete:"email",required:!0,autoFocus:!0}),Object(Ot.jsx)(tt.a,{InputProps:{endAdornment:Object(Ot.jsx)(et.a,{position:"end",children:Object(Ot.jsx)(nt.a,{onClick:this.toggleVisibility,children:this.state.showPassword?Object(Ot.jsx)(it.a,{htmlColor:jt}):Object(Ot.jsx)(ct.a,{htmlColor:jt})})})},value:this.state.password,onChange:function(e){return t.setState({password:e.target.value})},color:"primary",variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:this.state.showPassword?"text":"password",required:!0,autoComplete:"current-password"}),Object(Ot.jsx)(at.a,{fullWidth:!0,variant:"contained",color:"primary",style:{padding:"10px",margin:yt.spacing(3,0,2),backgroundColor:jt,borderRadius:"12px"},onClick:this.handleSubmit,children:"Register"})]})]})]})]})]})}}]),n}(s.a.Component),gt=Object(ht.b)((function(t){return{isAuthenticated:t.isAuthenticated}}),{setAuthenticated:E})(mt),vt=n(155),St=n.n(vt),kt=(n(297),Object(st.a)({spacing:[0,4,8,16,32,64]})),Ct=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).handleMouseDownPassword=function(t){t.preventDefault()},a.state={email:"",password:"",authenticateFailed:!1,redirectToCreateAccount:!1,showPassword:!1,message:"",openNotification:!1,signInSuccess:!1},a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a.toggleVisibility=a.toggleVisibility.bind(Object(x.a)(a)),a.handleClose=a.handleClose.bind(Object(x.a)(a)),a.showNotificationPop=a.showNotificationPop.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"handleSubmit",value:function(){var t=Object(f.a)(j.a.mark((function t(){var e,n,a,s,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===(e={email:this.state.email,password:this.state.password}).email||""===e.password){t.next=10;break}return t.next=4,J.signIn(e);case 4:n=t.sent,a=Object(b.a)(n,2),s=a[0],r=a[1],s||this.setState({authenticateFailed:!0}),this.setState({message:r,openNotification:!0,signInSuccess:s});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"toggleVisibility",value:function(){var t=this.state.showPassword;this.setState({showPassword:!t})}},{key:"handleClose",value:function(){this.setState({openNotification:!1})}},{key:"showNotificationPop",value:function(){return Object(Ot.jsx)($.a,{open:this.state.openNotification,autoHideDuration:6e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(Ot.jsx)(xt.a,{onClose:this.handleClose,severity:this.state.signInSuccess?"success":"error",variant:"filled",children:this.state.message})})}},{key:"render",value:function(){var t=this;return Object(Ot.jsxs)("div",{className:"BackgroundAuth",children:[this.showNotificationPop(),this.state.redirectToCreateAccount&&Object(Ot.jsx)(p.a,{to:{pathname:"/create-account"}}),this.props.isAuthenticated&&Object(Ot.jsx)(p.a,{to:{pathname:"/"}}),Object(Ot.jsxs)(K.a,{container:!0,component:"main",style:{height:"100vh"},children:[Object(Ot.jsx)("div",{className:"LeftGridPhoto"}),Object(Ot.jsxs)("div",{className:"RightGrid",children:[Object(Ot.jsx)("div",{className:"AuthPlacement",children:Object(Ot.jsxs)("p",{children:["Don't have an account?",Object(Ot.jsx)("a",{className:"AuthRedirectLink",onClick:function(){return t.setState({redirectToCreateAccount:!0})},children:"Get started"})]})}),Object(Ot.jsxs)("div",{className:"SignInGrid",children:[Object(Ot.jsxs)("div",{className:"AuthDescriptionBox",children:[Object(Ot.jsxs)("div",{className:"AuthDescription",children:[Object(Ot.jsx)(Y.a,{component:"h1",variant:"h5",style:{paddingBottom:"10px",alignSelf:"start"},children:"Sign in to MiniShopify"}),Object(Ot.jsx)(Y.a,{component:"h1",variant:"subtitle1",style:{paddingBottom:"10px",alignSelf:"flex-start"},children:"Enter your details below."})]}),Object(Ot.jsx)("div",{children:Object(Ot.jsx)(Z.a,{title:"Firebase",children:Object(Ot.jsx)("img",{className:"FireboxImg",src:"/static/icons/firebase.png"})})})]}),Object(Ot.jsxs)("form",{style:{width:"100%",marginTop:"1px"},noValidate:!0,action:void 0,children:[Object(Ot.jsx)(tt.a,{helperText:this.state.authenticateFailed?"Invalid Input.":"",InputProps:{startAdornment:Object(Ot.jsx)(et.a,{position:"start",children:Object(Ot.jsx)(St.a,{htmlColor:jt})})},value:this.state.email,onChange:function(e){return t.setState({email:e.target.value})},error:this.state.authenticateFailed,variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",required:!0,autoFocus:!0,style:{borderRadius:"12px"}}),Object(Ot.jsx)(tt.a,{helperText:this.state.authenticateFailed?"Invalid Input.":"",InputProps:{endAdornment:Object(Ot.jsx)(et.a,{position:"end",children:Object(Ot.jsx)(nt.a,{onClick:this.toggleVisibility,children:this.state.showPassword?Object(Ot.jsx)(it.a,{htmlColor:jt}):Object(Ot.jsx)(ct.a,{htmlColor:jt})})})},value:this.state.password,onChange:function(e){return t.setState({password:e.target.value})},error:this.state.authenticateFailed,color:"primary",variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:this.state.showPassword?"text":"password",required:!0,autoComplete:"current-password",style:{borderRadius:"20px"}}),Object(Ot.jsx)(at.a,{fullWidth:!0,variant:"contained",color:"primary",style:{padding:"10px",margin:kt.spacing(3,0,2),backgroundColor:jt,borderRadius:"12px"},onClick:this.handleSubmit,children:"Sign In"})]})]})]})]})]})}}]),n}(s.a.Component),Pt=Object(ht.b)((function(t){return{isAuthenticated:t.isAuthenticated}}),{setAuthenticated:E})(Ct),wt=n(266),Dt=n(568),Tt=n(590),It=n(571),At=n(572),Et=n(570),Ut=n(569),Nt=n(261),Ft=n.n(Nt),Wt=n(262),Bt=n.n(Wt),Rt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(Ot.jsx)(p.b,{render:function(t){var e=t.history;return Object(Ot.jsx)(at.a,{variant:"outlined",style:{color:"white",borderColor:"white",fontVariant:"unicase"},onClick:function(){e.push("/sign-in")},children:"Sign In"})}})}}]),n}(s.a.Component),zt=n(566),Mt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(Ot.jsx)(p.b,{render:function(t){var e=t.history;return Object(Ot.jsx)(Z.a,{title:"Browse Shops",children:Object(Ot.jsx)(nt.a,{onClick:function(){e.push("/home")},children:Object(Ot.jsx)(zt.a,{style:{fontSize:35},children:Object(Ot.jsx)("img",{alt:"edit",src:window.location.origin+"/shopSmall.ico"})})})})}})}}]),n}(s.a.Component),qt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(Ot.jsx)(p.b,{render:function(t){var e=t.history;return Object(Ot.jsx)(at.a,{variant:"outlined",style:{color:"white",borderColor:"white",fontVariant:"unicase"},onClick:function(){e.push("/my-shops")},children:"My Shops"})}})}}]),n}(s.a.Component),Lt=n(567),Qt=n(260),_t=n.n(Qt),Ht=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(Ot.jsx)(p.b,{render:function(e){var n=e.history;return Object(Ot.jsx)(Z.a,{title:"Cart",children:Object(Ot.jsx)(nt.a,{onClick:function(){n.push("/checkout")},style:{marginRight:"10px"},children:Object(Ot.jsx)(Lt.a,{badgeContent:t.props.cartProducts&&t.props.cartProducts.length,color:"primary",children:Object(Ot.jsx)(_t.a,{htmlColor:"white"})})})})}})}}]),n}(s.a.Component),Vt=Object(ht.b)((function(t){return{cartProducts:t.cartProducts}}),{})(Ht),Gt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={openDropdown:!1,anchorEl:null,redirectToSignIn:!1},a.openMenu=a.openMenu.bind(Object(x.a)(a)),a.closeMenu=a.closeMenu.bind(Object(x.a)(a)),a.signOut=a.signOut.bind(Object(x.a)(a)),a.getMenu=a.getMenu.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){}},{key:"signOut",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.signOut();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"openMenu",value:function(t){this.setState({openDropdown:!0,anchorEl:t.currentTarget})}},{key:"closeMenu",value:function(){this.setState({openDropdown:!1})}},{key:"getMenu",value:function(){return Object(Ot.jsxs)(wt.a,{keepMounted:!0,open:this.state.openDropdown,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:this.state.anchorEl,onClose:this.closeMenu,variant:"menu",children:[Object(Ot.jsxs)("div",{style:{marginTop:"16px",marginBottom:"16px",paddingLeft:"20px",paddingRight:"20px"},children:[Object(Ot.jsx)(Y.a,{variant:"subtitle1",style:{flexGrow:1},children:_.auth().currentUser?_.auth().currentUser.displayName:""}),Object(Ot.jsx)(Y.a,{variant:"subtitle2",style:{flexGrow:1},children:_.auth().currentUser?_.auth().currentUser.email:""})]}),Object(Ot.jsx)(Dt.a,{}),Object(Ot.jsxs)(Tt.a,{onClick:this.closeMenu,children:[Object(Ot.jsx)(Ut.a,{children:Object(Ot.jsx)(Ft.a,{style:{color:jt}})}),Object(Ot.jsx)(Et.a,{primary:"Home"})]}),Object(Ot.jsxs)(Tt.a,{onClick:this.closeMenu,children:[Object(Ot.jsx)(Ut.a,{children:Object(Ot.jsx)(Bt.a,{style:{color:jt}})}),Object(Ot.jsx)(Et.a,{primary:"Profile"})]}),Object(Ot.jsx)(at.a,{variant:"outlined",style:{marginRight:"5%",marginTop:"2%",marginLeft:"5%",borderRadius:"12px",width:"90%",color:"white",backgroundColor:jt},onClick:this.signOut,children:"Sign Out"})]})}},{key:"render",value:function(){return Object(Ot.jsx)("div",{style:{flexGrow:1},children:Object(Ot.jsx)(It.a,{position:"static",style:{background:"rgba(21, 67, 96, 0.5)"},children:Object(Ot.jsxs)(At.a,{children:[Object(Ot.jsx)(Mt,{}),this.props.isAuthenticated&&Object(Ot.jsx)(qt,{}),Object(Ot.jsx)(Y.a,{variant:"h6",style:{flexGrow:1}}),!this.props.inCart&&Object(Ot.jsx)(Vt,{}),this.props.isAuthenticated&&Object(Ot.jsx)(nt.a,{edge:"end",color:"inherit",onClick:this.openMenu,children:Object(Ot.jsx)(St.a,{fontSize:"large"})}),this.props.isAuthenticated?this.getMenu():Object(Ot.jsx)(Rt,{})]})})})}}]),n}(s.a.Component),Xt=Object(ht.b)((function(t){return{isAuthenticated:t.isAuthenticated}}),{setAuthenticated:E})(Gt),Jt=n(584),$t=n(576),Kt=n(577),Yt=n(578),Zt=n(579),te=n(580),ee=n(581),ne=n(157),ae=n.n(ne),se=n(129),re=n.n(se),ie=n(591),oe=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(Ot.jsx)(K.a,{container:!0,justify:"center",spacing:1,style:{flexGrow:1},children:this.props.tags&&0!==this.props.tags.length?this.props.tags.map((function(t){return Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(ie.a,{label:t,size:"small",style:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",color:"black"}})},t)})):Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(ie.a,{label:"no tags",size:"small",style:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",color:"black",visibility:"hidden"}})})})}}]),n}(s.a.Component),ce=n(70),ue=n.n(ce),le=new(function(){function t(){Object(o.a)(this,t)}return Object(c.a)(t,[{key:"getHeaders",value:function(){return{headers:{"X-Firebase-Auth":X.getState().idToken}}}},{key:"createShop",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getHeaders(),t.abrupt("return",ue.a.post("https://minishopifyapp.herokuapp.com/api/shop/protected/createShop",e,n).then((function(t){return null!==t.data&&""!==t.data&&(X.dispatch(q(t.data)),!0)})).catch((function(t){return console.log(t),!1})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"checkoutCartProducts",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getHeaders(),t.abrupt("return",ue.a.post("https://minishopifyapp.herokuapp.com/api/cart/checkout",e,n).then((function(t){return null!==t.data&&""!==t.data&&(X.dispatch(M([])),!0)})).catch((function(t){return console.log(t),!1})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAllShops",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ue.a.get("https://minishopifyapp.herokuapp.com/api/shop/getShops").then((function(t){return X.dispatch(N(t.data)),t.data})).catch((function(t){return null})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getShopProducts",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://minishopifyapp.herokuapp.com/api/shop/getProducts/"+e,t.abrupt("return",ue.a.get(n).then((function(t){return X.dispatch(F(t.data)),t.data})).catch((function(t){return null})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteShop",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getHeaders(),t.abrupt("return",ue.a.post("https://minishopifyapp.herokuapp.com/api/shop/protected/deleteShop",e,n).then((function(t){return!!t.data&&(X.dispatch(W(e)),!0)})).catch((function(t){return console.log(t),!1})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteProduct",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getHeaders(),t.abrupt("return",ue.a.post("https://minishopifyapp.herokuapp.com/api/shop/protected/deleteProduct",e,n).then((function(t){return!!t.data&&(X.dispatch(B(e)),!0)})).catch((function(t){return console.log(t),!1})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"updateShop",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getHeaders(),t.abrupt("return",ue.a.post("https://minishopifyapp.herokuapp.com/api/shop/protected/updateShop",e,n).then((function(t){return null!==t.data&&(X.dispatch(R(e)),!0)})).catch((function(t){return console.log(t),!1})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"updateProduct",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getHeaders(),t.abrupt("return",ue.a.post("https://minishopifyapp.herokuapp.com/api/shop/protected/updateProduct",e,n).then((function(t){return null!==t.data&&""!==t.data&&(X.dispatch(L(e)),!0)})).catch((function(t){return console.log(t),!1})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addNewProduct",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getHeaders(),t.abrupt("return",ue.a.post("https://minishopifyapp.herokuapp.com/api/shop/protected/addProduct",e,n).then((function(t){return null!==t.data&&""!==t.data&&(X.dispatch(z(e)),!0)})).catch((function(t){return console.log(t),!1})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getShopById",value:function(){return ue.a.get("https://minishopifyapp.herokuapp.com/api/getShopById")}}]),t}()),de=n(587),pe=n(573),he=n(574),je=n(575),be=n(156),fe=n.n(be),xe=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={shopData:null,ownerEmail:"",shopID:"",name:"",description:"",picture:"",tag:"",tags:[]},a.getShopData=a.getShopData.bind(Object(x.a)(a)),a.deleteAllTags=a.deleteAllTags.bind(Object(x.a)(a)),a.updateShop=a.updateShop.bind(Object(x.a)(a)),a.deleteShop=a.deleteShop.bind(Object(x.a)(a)),a.discardChanges=a.discardChanges.bind(Object(x.a)(a)),a.addTag=a.addTag.bind(Object(x.a)(a)),a.mounted=!0,a}return Object(c.a)(n,[{key:"discardChanges",value:function(){this.setState({name:this.props.selectedShop.name,description:this.props.selectedShop.description,picture:this.props.selectedShop.picture,tags:this.props.selectedShop.tags})}},{key:"shouldComponentUpdate",value:function(t,e){return this.mounted}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidMount",value:function(){this.setState({shopData:this.props.selectedShop,ownerEmail:this.props.selectedShop.ownerEmail,shopID:this.props.selectedShop.shopID,name:this.props.selectedShop.name,description:this.props.selectedShop.description,picture:this.props.selectedShop.picture,tags:this.props.selectedShop.tags})}},{key:"addTag",value:function(){if(""!==this.state.tag){var t=this.state.tags;t.push(this.state.tag),this.setState({tags:t,tag:""})}}},{key:"deleteAllTags",value:function(){this.setState({tags:[]})}},{key:"getShopData",value:function(){return{shopID:this.state.shopID,ownerEmail:this.state.ownerEmail,name:this.state.name,description:this.state.description,picture:this.state.picture,tags:this.state.tags}}},{key:"updateShop",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.updateShop(this.getShopData());case 2:t.sent&&this.props.onClose();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"deleteShop",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.deleteShop(this.state.shopID);case 2:t.sent&&this.props.onClose();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(Ot.jsxs)(de.a,{fullWidth:!0,maxWidth:"md",open:null!==this.props.selectedShop,onClose:this.props.onClose,children:[Object(Ot.jsx)(pe.a,{children:"Edit Shop Menu"}),console.log(this.state.shopID),console.log(this.state.name),console.log(this.state.ownerEmail),Object(Ot.jsx)(he.a,{children:Object(Ot.jsx)(xt.a,{severity:"error",children:"Deleting a shop will delete all the products it contains."})}),Object(Ot.jsxs)(he.a,{style:{display:"flex"},children:[Object(Ot.jsx)("div",{style:{flex:"0 0 330px",alignSelf:"center"},children:Object(Ot.jsx)(ye,{canEditShop:!1,canOpen:!1,shop:this.getShopData()})}),Object(Ot.jsxs)("div",{style:{flex:1},children:[Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Name",value:this.state.name,onChange:function(e){t.setState({name:e.target.value})}}),Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Description",rowsMax:4,multiline:!0,value:this.state.description,onChange:function(e){t.setState({description:e.target.value})}}),Object(Ot.jsx)(tt.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Add Tags",value:this.state.tag,onChange:function(e){t.setState({tag:e.target.value})},InputProps:{endAdornment:Object(Ot.jsx)(et.a,{position:"end",children:Object(Ot.jsx)(nt.a,{onClick:this.addTag,children:Object(Ot.jsx)(fe.a,{htmlColor:"#00ab55"})})})}}),Object(Ot.jsx)(at.a,{color:"secondary",style:{float:"right"},onClick:this.deleteAllTags,children:"Delete All Tags"}),Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Picture URL",value:this.state.picture,onChange:function(e){t.setState({picture:e.target.value})}})]})]}),Object(Ot.jsxs)(je.a,{children:[Object(Ot.jsx)(ie.a,{label:"Update Shop",onClick:this.updateShop,style:{background:jt,color:"white"}}),Object(Ot.jsx)(ie.a,{label:"Discard Changes",onClick:this.discardChanges,style:{background:"#ff9800",color:"white"}}),Object(Ot.jsx)(ie.a,{label:"Delete Shop",onClick:this.deleteShop,color:"secondary"})]})]})}}]),n}(s.a.Component),Oe=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={openDropdown:!1,anchorEl:null,openDialog:!1,openSnackBar:!1,currentShop:null,openEditShop:!1},a.deleteShop=a.deleteShop.bind(Object(x.a)(a)),a.closeSnackBar=a.closeSnackBar.bind(Object(x.a)(a)),a.closeEditShop=a.closeEditShop.bind(Object(x.a)(a)),a.openShop=a.openShop.bind(Object(x.a)(a)),a.openEditShop=a.openEditShop.bind(Object(x.a)(a)),a.getShopImg=a.getShopImg.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"openShop",value:function(t){this.props.canOpen&&this.props.history.push("/shop/"+t.shopID)}},{key:"openEditShop",value:function(t){this.setState({currentShop:t})}},{key:"closeEditShop",value:function(){this.setState({currentShop:null})}},{key:"closeSnackBar",value:function(){this.setState({openSnackBar:!1})}},{key:"deleteShop",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.currentShop){t.next=4;break}return t.next=3,le.deleteShop(this.state.currentShop.shopID);case 3:this.setState({openDialog:!1,openSnackBar:!0});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"renderSnackBar",value:function(){return Object(Ot.jsx)($.a,{open:this.state.openSnackBar,autoHideDuration:6e3,onClose:this.closeSnackBar,children:Object(Ot.jsx)(xt.a,{onClose:this.closeSnackBar,severity:"success",children:"Shop successfully deleted!"})})}},{key:"getShopImg",value:function(){return this.props.shop?""===this.props.shop.picture?ft:this.props.shop.picture:ft}},{key:"render",value:function(){var t=this;return Object(Ot.jsxs)("div",{children:[this.renderSnackBar(),this.props.canEdit&&this.state.currentShop&&Object(Ot.jsx)(xe,{selectedShop:this.state.currentShop,onClose:function(){return t.closeEditShop()}}),Object(Ot.jsxs)($t.a,{style:{minWidth:"300px",maxWidth:"300px",minHeight:"300px",boxShadow:"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px",borderRadius:"16px"},children:[Object(Ot.jsx)(Kt.a,{avatar:Object(Ot.jsx)(ae.a,{color:"primary"}),title:this.props.shop&&this.props.shop.name,action:this.props.canEdit?Object(Ot.jsx)(Z.a,{TransitionComponent:Yt.a,title:"Edit Shop",children:Object(Ot.jsx)(nt.a,{onClick:function(){return t.openEditShop(t.props.shop)},children:Object(Ot.jsx)(re.a,{color:"secondary"})})}):Object(Ot.jsx)(re.a,{htmlColor:"white"})}),Object(Ot.jsxs)(Zt.a,{onClick:function(){return t.openShop(t.props.shop)},children:[Object(Ot.jsx)(te.a,{style:{height:0,paddingTop:"56.25%"},image:this.getShopImg()}),Object(Ot.jsxs)(ee.a,{children:[Object(Ot.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"p",children:this.props.shop&&this.props.shop.description}),Object(Ot.jsx)(Dt.a,{style:{margin:"10px"}}),Object(Ot.jsx)(oe,{tags:this.props.shop&&this.props.shop.tags})]})]})]})]})}}]),n}(s.a.Component),ye=Object(p.g)(Oe),me=n(158),ge=n.n(me),ve=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={addingShop:!1,shops:[],tags:[],selectedTag:"",searchValue:""},a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.handleSelectChange=a.handleSelectChange.bind(Object(x.a)(a)),a.setShopAndShopTags=a.setShopAndShopTags.bind(Object(x.a)(a)),a.displayShops=a.displayShops.bind(Object(x.a)(a)),a.displaySearchBar=a.displaySearchBar.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.shops&&this.setShopAndShopTags()}},{key:"componentDidUpdate",value:function(t,e){t.shops!==this.props.shops&&this.setShopAndShopTags()}},{key:"setShopAndShopTags",value:function(){var t=new Set;this.props.shops.forEach((function(e){e.tags.forEach((function(e){t.add(e)}))})),this.setState({shops:this.props.shops,tags:Array.from(t)})}},{key:"handleChange",value:function(t){if(this.setState({selectedTag:"",searchValue:t.target.value}),""===t.target.value)this.setState({shops:this.props.shops});else{var e=t.target.value.toLowerCase(),n=this.props.shops.filter((function(t){return t.name.toLowerCase().includes(e)}));this.setState({shops:n})}}},{key:"handleSelectChange",value:function(t){if(this.setState({selectedTag:t.target.value,searchValue:""}),""===t.target.value)this.setState({shops:this.props.shops});else{var e=this.props.shops.filter((function(e){return e.tags.includes(t.target.value)}));this.setState({shops:e})}}},{key:"displayShops",value:function(){var t=this;return Object(Ot.jsx)("div",{style:{width:"99vw",height:this.props.canEdit?"70vh":"77vh",overflowY:"auto",overflowX:"hidden"},children:Object(Ot.jsx)(K.a,{container:!0,justify:"center",spacing:3,children:this.state.shops&&this.state.shops.map((function(e){return Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(ye,{canEdit:t.props.canEdit,canOpen:!0,shop:e})},e.shopID)}))})})}},{key:"displaySearchBar",value:function(){var t=this;return Object(Ot.jsx)("div",{style:{paddingTop:"10px",paddingBottom:"40px"},children:Object(Ot.jsxs)(K.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(ge.a,{})}),Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(tt.a,{value:this.state.searchValue,label:"Search",onChange:function(e){t.handleChange(e)}})}),Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(Y.a,{variant:"body1",style:{paddingLeft:"20px",paddingBottom:"5px"},children:"Filter Tags:"})}),Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsxs)(Jt.a,{value:this.state.selectedTag,native:!0,onChange:function(e){t.handleSelectChange(e)},children:[Object(Ot.jsx)("option",{"aria-label":"Filter Shops",value:""}),this.state.tags&&this.state.tags.map((function(t){return Object(Ot.jsx)("option",{value:t,children:t},t)}))]})})]})})}},{key:"render",value:function(){return Object(Ot.jsx)("div",{children:Object(Ot.jsxs)(K.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(Y.a,{variant:"h5",style:{paddingTop:"20px",fontFamily:"cursive"},children:this.props.title})}),Object(Ot.jsx)(K.a,{item:!0,children:this.displaySearchBar()}),Object(Ot.jsx)(K.a,{item:!0,children:this.displayShops()})]})})}}]),n}(s.a.Component),Se=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(c.a)(n,[{key:"render",value:function(){return Object(Ot.jsx)("div",{children:Object(Ot.jsx)(ve,{shops:this.props.shops,canEdit:this.props.canEdit,title:this.props.title})})}}]),n}(s.a.Component),ke=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a.getShops=a.getShops.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getShops()}},{key:"getShops",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.getAllShops();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(Ot.jsxs)("div",{style:{height:"100vh"},children:[Object(Ot.jsx)(Xt,{}),Object(Ot.jsx)(Se,{shops:this.props.shops,canEdit:!1,title:"Browse Shops"})]})}}]),n}(s.a.Component),Ce=Object(ht.b)((function(t){return{isAuthenticated:t.isAuthenticated,shops:t.shops}}),{setShops:N})(ke),Pe=function(){return Object(Ot.jsxs)("div",{children:[Object(Ot.jsx)("img",{src:"https://cdn.dribbble.com/users/44167/screenshots/4199208/empty-cart-rappi.png?compress=1&resize=400x300",alt:"Empty Cart",style:{width:"50%",height:"50%"}}),Object(Ot.jsx)(Y.a,{variant:"body1",style:{fontWeight:600,paddingTop:"10px"},children:"Cart is Empty"}),Object(Ot.jsx)(Y.a,{variant:"body2",style:{fontWeight:200,paddingTop:"10px"},children:"Look like you have no items in your shopping cart."})]})},we=n(592),De=n(92),Te=n.n(De),Ie=n(263),Ae=n.n(Ie),Ee=n(91),Ue=n.n(Ee),Ne=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={selectedQuantity:0},a.updateQuantity=a.updateQuantity.bind(Object(x.a)(a)),a.removeProductFromCart=a.removeProductFromCart.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({selectedQuantity:this.props.cartProduct.selectedQuantity})}},{key:"updateQuantity",value:function(t){if(this.state.selectedQuantity+t>0&&this.state.selectedQuantity+t<=this.props.cartProduct.quantity){var e=this.state.selectedQuantity;this.props.updateQuantity(this.props.cartProduct,e+t,t),this.setState({selectedQuantity:e+t})}}},{key:"removeProductFromCart",value:function(){this.props.removeProduct(this.props.cartProduct)}},{key:"render",value:function(){var t=this;return Object(Ot.jsxs)(K.a,{container:!0,style:{backgroundColor:"#FAFAFA",width:"100%",alignItems:"center",paddingLeft:"10px",paddingRight:"10px",marginTop:"10px"},children:[Object(Ot.jsxs)(K.a,{item:!0,xs:5,style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(Ot.jsx)(we.a,{src:this.props.cartProduct.picture}),Object(Ot.jsx)(Y.a,{style:{fontSize:"12px",paddingLeft:"5px"},children:this.props.cartProduct.name})]}),Object(Ot.jsx)(K.a,{item:!0,xs:2,style:{display:"flex",justifyContent:"flex-start"},children:Object(Ot.jsxs)(Y.a,{style:{fontSize:"12px"},children:["$",this.props.cartProduct.cost]})}),Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsxs)(K.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(Ot.jsxs)(K.a,{item:!0,xs:2,style:{display:"flex",justifyContent:"center",borderRadius:"5px",alignItems:"center"},children:[Object(Ot.jsx)(nt.a,{onClick:function(){t.updateQuantity(-1)},children:Object(Ot.jsx)(Ue.a,{fontSize:"small"})}),Object(Ot.jsx)(Y.a,{style:{fontSize:"12px",width:"10px"},children:this.state.selectedQuantity}),Object(Ot.jsx)(nt.a,{onClick:function(){return t.updateQuantity(1)},children:Object(Ot.jsx)(Te.a,{fontSize:"small"})})]}),Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsxs)(Y.a,{variant:"body2",children:["Available: ",this.props.cartProduct.quantity]})})]})}),Object(Ot.jsx)(K.a,{item:!0,xs:2,style:{display:"flex",justifyContent:"center",paddingLeft:"7%"},children:Object(Ot.jsxs)(Y.a,{style:{fontSize:"12px"},children:["$",(this.state.selectedQuantity*this.props.cartProduct.cost).toFixed(2)]})}),Object(Ot.jsx)(K.a,{item:!0,xs:1,children:Object(Ot.jsx)(nt.a,{onClick:this.removeProductFromCart,children:Object(Ot.jsx)(Ae.a,{color:"secondary"})})})]})}}]),n}(s.a.Component),Fe=Object(st.a)({spacing:[0,4,8,16,32,64]}),We=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a.calculateTotal=a.calculateTotal.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"calculateTotal",value:function(){var t=0;return 0!==this.props.total&&(t=(1.13*this.props.total+2).toFixed(2)),t}},{key:"render",value:function(){return Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)($t.a,{variant:"outlined",style:{minWidth:"15vw",maxHeight:"40vh",boxShadow:"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px",borderRadius:"16px"},children:Object(Ot.jsxs)(ee.a,{children:[Object(Ot.jsx)(K.a,{container:!0,children:Object(Ot.jsx)(Y.a,{variant:"h6",children:"Cart Summary"})}),Object(Ot.jsxs)(K.a,{container:!0,style:{paddingTop:"15px"},children:[Object(Ot.jsx)(K.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(Ot.jsx)(Y.a,{variant:"body1",style:{fontSize:"15px",fontWeight:"lighter",color:"rgb(99, 115, 129)"},children:"Sub Total"})}),Object(Ot.jsx)(K.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:Object(Ot.jsxs)(Y.a,{variant:"body1",style:{fontSize:"15px",fontWeight:"bold"},children:["$",0!==this.props.total?this.props.total.toFixed(2):this.props.total]})})]}),Object(Ot.jsxs)(K.a,{container:!0,style:{paddingTop:"15px"},children:[Object(Ot.jsx)(K.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(Ot.jsx)(Y.a,{variant:"body1",style:{fontSize:"15px",fontWeight:"lighter",color:"rgb(99, 115, 129)"},children:"Tax"})}),Object(Ot.jsx)(K.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:Object(Ot.jsx)(Y.a,{variant:"body1",style:{fontSize:"15px",fontWeight:"bold"},children:"13%"})})]}),Object(Ot.jsxs)(K.a,{container:!0,style:{paddingTop:"15px",paddingBottom:"10px"},children:[Object(Ot.jsx)(K.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(Ot.jsx)(Y.a,{variant:"body1",style:{fontSize:"15px",fontWeight:"lighter",color:"rgb(99, 115, 129)"},children:"Shipping"})}),Object(Ot.jsx)(K.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:Object(Ot.jsx)(Y.a,{variant:"body1",style:{fontSize:"15px",fontWeight:"bold"},children:2})})]}),Object(Ot.jsx)(Dt.a,{}),Object(Ot.jsxs)(K.a,{container:!0,style:{paddingTop:"15px"},children:[Object(Ot.jsx)(K.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"flex-start"},children:Object(Ot.jsx)(Y.a,{variant:"body1",style:{fontSize:"15px"},children:"Total"})}),Object(Ot.jsx)(K.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"flex-end"},children:Object(Ot.jsxs)(Y.a,{variant:"body1",style:{fontSize:"15px",fontWeight:"bold",color:"red"},children:["$",this.calculateTotal()]})})]})]})}),Object(Ot.jsx)(at.a,{fullWidth:!0,variant:"contained",color:"primary",style:{padding:"10px",margin:Fe.spacing(3,0,2),backgroundColor:jt,borderRadius:"12px"},onClick:this.props.checkoutProducts,children:"Checkout"})]})}}]),n}(s.a.Component),Be=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={total:0,cartProducts:[],success:!1,openNotification:!1},a.setTotal=a.setTotal.bind(Object(x.a)(a)),a.calculateTotal=a.calculateTotal.bind(Object(x.a)(a)),a.updateQuantity=a.updateQuantity.bind(Object(x.a)(a)),a.setLocalCartCopy=a.setLocalCartCopy.bind(Object(x.a)(a)),a.removeProduct=a.removeProduct.bind(Object(x.a)(a)),a.checkoutProducts=a.checkoutProducts.bind(Object(x.a)(a)),a.cart=a.cart.bind(Object(x.a)(a)),a.displayFilledCart=a.displayFilledCart.bind(Object(x.a)(a)),a.showNotificationPop=a.showNotificationPop.bind(Object(x.a)(a)),a.handleClose=a.handleClose.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(t,e){this.props.cartProducts.length!==t.cartProducts.length&&(this.calculateTotal(this.props.cartProducts),this.setLocalCartCopy(this.props.cartProducts))}},{key:"componentDidMount",value:function(){this.calculateTotal(this.props.cartProducts),this.setLocalCartCopy(this.props.cartProducts)}},{key:"setLocalCartCopy",value:function(t){this.setState({cartProducts:t})}},{key:"componentWillUnmount",value:function(){this.props.updateCart(this.state.cartProducts)}},{key:"calculateTotal",value:function(t){var e=0;t.forEach((function(t){e+=t.cost*t.selectedQuantity})),this.setState({total:e})}},{key:"removeProduct",value:function(t){var e=this.state.cartProducts.filter((function(e){return e.productID!==t.productID}));this.setState({cartProducts:e}),this.props.updateCart(e),this.calculateTotal(e)}},{key:"updateQuantity",value:function(t,e,n){var a=t.cost,s=this.state.total;this.setState({total:s+a*n});var r=this.state.cartProducts;r.forEach((function(n){n.productID!==t.productID||(n.selectedQuantity=e)})),this.setState({cartProducts:r})}},{key:"setTotal",value:function(t){this.setState({total:t})}},{key:"checkoutProducts",value:function(){var t=Object(f.a)(j.a.mark((function t(){var e,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],this.state.cartProducts.forEach((function(t){var n={productID:t.productID,quantity:t.selectedQuantity};e.push(n)})),t.next=4,le.checkoutCartProducts(e);case 4:n=t.sent,this.setState({success:n,openNotification:!0});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handleClose",value:function(){this.setState({openNotification:!1})}},{key:"showNotificationPop",value:function(){return Object(Ot.jsx)($.a,{open:this.state.openNotification,autoHideDuration:6e3,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(Ot.jsx)(xt.a,{onClose:this.handleClose,severity:this.state.success?"success":"error",variant:"filled",children:this.state.success?"Products Successfully Purchased!":"Unable to purchase the products. Please try again later."})})}},{key:"displayFilledCart",value:function(){var t=this;return Object(Ot.jsxs)("div",{style:{height:"50vh"},children:[Object(Ot.jsxs)(K.a,{container:!0,style:{backgroundColor:"#EEF1F1",height:"40px",width:"100%",borderRadius:"5px",alignItems:"center",paddingLeft:"10px",paddingRight:"10px",marginTop:"10px"},children:[Object(Ot.jsx)(K.a,{item:!0,xs:5,style:{display:"flex",justifyContent:"flex-start"},children:Object(Ot.jsx)(Y.a,{style:{fontSize:"12px"},children:"Products"})}),Object(Ot.jsx)(K.a,{item:!0,xs:2,style:{display:"flex",justifyContent:"flex-start"},children:Object(Ot.jsx)(Y.a,{style:{fontSize:"12px"},children:"Price"})}),Object(Ot.jsx)(K.a,{item:!0,xs:2,style:{display:"flex",justifyContent:"flex-start"},children:Object(Ot.jsx)(Y.a,{style:{fontSize:"12px",paddingLeft:"18%"},children:"Quantity"})}),Object(Ot.jsx)(K.a,{item:!0,xs:2,style:{display:"flex",justifyContent:"center"},children:Object(Ot.jsx)(Y.a,{style:{fontSize:"12px"},children:"Total"})})]}),Object(Ot.jsx)("div",{style:{overflowY:"auto",height:"48vh"},children:this.state.cartProducts.map((function(e){return Object(Ot.jsx)(Ne,{cartProduct:e,removeProduct:t.removeProduct,total:t.state.total,setTotal:t.setTotal,updateQuantity:t.updateQuantity},e.productID)}))})]})}},{key:"cart",value:function(){return Object(Ot.jsx)(K.a,{children:Object(Ot.jsx)($t.a,{variant:"outlined",style:{width:"40vw",minHeight:"50vh",boxShadow:"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px",borderRadius:"16px"},children:Object(Ot.jsxs)(ee.a,{children:[Object(Ot.jsxs)(K.a,{container:!0,spacing:1,children:[Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(Y.a,{style:{display:"flex",justifyContent:"flex-start"},variant:"h6",children:"Cart"})}),Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(Y.a,{style:{display:"flex",justifyContent:"flex-start",color:"rgb(99, 115, 129)"},variant:"h6",children:"(".concat(this.state.cartProducts.length," Products)")})})]}),0===this.state.cartProducts.length?Object(Ot.jsx)(Pe,{}):this.displayFilledCart()]})})})}},{key:"summary",value:function(){}},{key:"render",value:function(){return Object(Ot.jsxs)("div",{style:{height:"100vh",overflow:"hidden"},children:[Object(Ot.jsx)(Xt,{inCart:!0}),this.showNotificationPop(),Object(Ot.jsx)("div",{style:{height:"50vh",paddingTop:"5%"},children:Object(Ot.jsxs)(K.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:2,children:[Object(Ot.jsx)(K.a,{item:!0,children:this.cart()}),Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(We,{cartProducts:this.props.cartProducts,total:this.state.total,checkoutProducts:this.checkoutProducts})})]})})]})}}]),n}(s.a.Component),Re=Object(ht.b)((function(t){return{cartProducts:t.cartProducts}}),{updateCart:M})(Be),ze=n(264),Me=n.n(ze),qe=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={productData:null,productID:"",shopID:"",name:"",description:"",picture:"",cost:0,quantity:0},a.getProductData=a.getProductData.bind(Object(x.a)(a)),a.updateProduct=a.updateProduct.bind(Object(x.a)(a)),a.deleteProduct=a.deleteProduct.bind(Object(x.a)(a)),a.discardChanges=a.discardChanges.bind(Object(x.a)(a)),a.mounted=!0,a}return Object(c.a)(n,[{key:"discardChanges",value:function(){this.setState({name:this.props.selectedProduct.name,description:this.props.selectedProduct.description,picture:this.props.selectedProduct.picture,cost:this.props.selectedProduct.cost,quantity:this.props.selectedProduct.quantity})}},{key:"shouldComponentUpdate",value:function(t,e){return this.mounted}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidMount",value:function(){this.setState({productData:this.props.selectedProduct,productID:this.props.selectedProduct.productID,shopID:this.props.selectedProduct.shopID,name:this.props.selectedProduct.name,description:this.props.selectedProduct.description,picture:this.props.selectedProduct.picture,cost:this.props.selectedProduct.cost,quantity:this.props.selectedProduct.quantity})}},{key:"getProductData",value:function(){return{shopID:this.state.shopID,productID:this.state.productID,name:this.state.name,description:this.state.description,picture:this.state.picture,cost:this.state.cost,quantity:this.state.quantity}}},{key:"updateProduct",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.updateProduct(this.getProductData());case 2:t.sent&&this.props.onClose();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"deleteProduct",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.deleteProduct(this.state.productID);case 2:t.sent&&this.props.onClose();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(Ot.jsxs)(de.a,{fullWidth:!0,maxWidth:"md",open:null!==this.props.selectedProduct,onClose:this.props.onClose,children:[Object(Ot.jsx)(pe.a,{children:"Edit Product Menu"}),Object(Ot.jsxs)(he.a,{style:{display:"flex"},children:[Object(Ot.jsx)("div",{style:{flex:"0 0 330px",alignSelf:"center"},children:Object(Ot.jsx)(Qe,{canEditProduct:!1,canOpen:!1,canBuy:!1,product:this.getProductData()})}),Object(Ot.jsxs)("div",{style:{flex:1},children:[Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Name",value:this.state.name,onChange:function(e){t.setState({name:e.target.value})}}),Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Description",rowsMax:4,multiline:!0,value:this.state.description,onChange:function(e){t.setState({description:e.target.value})}}),Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Picture URL",value:this.state.picture,onChange:function(e){t.setState({picture:e.target.value})}}),Object(Ot.jsx)(Y.a,{style:{fontSize:"14px",margin:"5px",color:"#184800"},children:"Update Cost"}),Object(Ot.jsxs)(K.a,{item:!0,xs:4,style:{display:"flex",justifyContent:"center",borderRadius:"15px",backgroundColor:"#CFFFB7",height:"40px",alignItems:"center",marginBottom:"10px"},children:[Object(Ot.jsx)(nt.a,{onClick:function(){t.state.cost<1&&t.setState({cost:t.state.cost-1})},children:Object(Ot.jsx)(Ue.a,{fontSize:"small"})}),Object(Ot.jsx)("input",{type:"number",value:this.state.cost,style:{backgroundColor:"inherit",border:"none",width:"100%",height:"75%",textAlign:"center"},onChange:function(e){e.target.value>0&&t.setState({cost:Number(e.target.value)})}}),Object(Ot.jsx)(nt.a,{onClick:function(){t.setState({cost:t.state.cost+1})},children:Object(Ot.jsx)(Te.a,{fontSize:"small"})})]}),Object(Ot.jsx)(Y.a,{style:{fontSize:"14px",margin:"5px",color:"#184800"},children:"Update Quantity"}),Object(Ot.jsxs)(K.a,{item:!0,xs:4,style:{display:"flex",justifyContent:"center",borderRadius:"15px",backgroundColor:"#CFFFB7",height:"40px",alignItems:"center"},children:[Object(Ot.jsx)(nt.a,{onClick:function(){t.state.quantity>0&&t.setState({quantity:t.state.quantity-1})},children:Object(Ot.jsx)(Ue.a,{fontSize:"small"})}),Object(Ot.jsx)("input",{type:"number",value:this.state.quantity,style:{backgroundColor:"inherit",border:"none",width:"100%",height:"75%",textAlign:"center"},onChange:function(e){e.target.value>=0&&t.setState({quantity:Number(e.target.value)})}}),Object(Ot.jsx)(nt.a,{onClick:function(){t.setState({quantity:t.state.quantity+1})},children:Object(Ot.jsx)(Te.a,{fontSize:"small"})})]})]})]}),Object(Ot.jsxs)(je.a,{children:[Object(Ot.jsx)(ie.a,{label:"Update Product",onClick:this.updateProduct,style:{background:jt,color:"white"}}),Object(Ot.jsx)(ie.a,{label:"Discard Changes",onClick:this.discardChanges,style:{background:"#ff9800",color:"white"}}),Object(Ot.jsx)(ie.a,{label:"Delete Product",onClick:this.deleteProduct,color:"secondary"})]})]})}}]),n}(s.a.Component),Le=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={shopID:a.props.match?a.props.match.params.shopID:"",myShop:null,currentProduct:null},a.openEditProduct=a.openEditProduct.bind(Object(x.a)(a)),a.closeEditProduct=a.closeEditProduct.bind(Object(x.a)(a)),a.getProductImg=a.getProductImg.bind(Object(x.a)(a)),a.addToCart=a.addToCart.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"openEditProduct",value:function(t){this.setState({currentProduct:t})}},{key:"closeEditProduct",value:function(){this.setState({currentProduct:null})}},{key:"addToCart",value:function(){var t=this.props.product;t.selectedQuantity=1,this.props.addProductToCart(t)}},{key:"componentDidUpdate",value:function(t,e){}},{key:"getProductImg",value:function(){return this.props.product?""===this.props.product.picture?bt:this.props.product.picture:bt}},{key:"render",value:function(){var t=this;return Object(Ot.jsxs)("div",{children:[this.props.canEditProduct&&this.state.currentProduct&&Object(Ot.jsx)(qe,{selectedProduct:this.state.currentProduct,onClose:function(){return t.closeEditProduct()}}),Object(Ot.jsxs)($t.a,{style:{width:"300px",minHeight:"457px",boxShadow:"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px",borderRadius:"16px"},children:[Object(Ot.jsx)(Kt.a,{avatar:Object(Ot.jsx)(ae.a,{color:"primary"}),title:this.props.product&&this.props.product.name,action:this.props.canEditProduct&&Object(Ot.jsx)(Z.a,{TransitionComponent:Yt.a,title:"Edit Product",children:Object(Ot.jsx)(nt.a,{onClick:function(){return t.openEditProduct(t.props.product)},children:Object(Ot.jsx)(re.a,{color:"secondary"})})})}),Object(Ot.jsx)(te.a,{style:{height:0,paddingTop:"56.25%"},image:this.getProductImg()}),Object(Ot.jsxs)(ee.a,{children:[Object(Ot.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"p",children:this.props.product&&this.props.product.description}),Object(Ot.jsx)(Dt.a,{style:{margin:"10px"}}),Object(Ot.jsxs)(Y.a,{variant:"body2",color:"textSecondary",component:"p",children:["Cost: $",this.props.product&&this.props.product.cost]}),Object(Ot.jsx)(Dt.a,{style:{margin:"10px"}}),Object(Ot.jsxs)(Y.a,{style:{marginBottom:"15px"},variant:"body2",color:"textSecondary",component:"p",children:["Quantity: ",this.props.product&&this.props.product.quantity]}),null===this.state.currentProduct&&this.props.canBuy&&Object(Ot.jsx)(nt.a,{onClick:this.addToCart,children:Object(Ot.jsx)(Me.a,{style:{color:"#43C701",margin:"5px"}})}),!this.props.canBuy&&this.props.canOpen&&Object(Ot.jsx)(ie.a,{label:"OUT OF STOCK",color:"secondary"})]})]})]})}}]),n}(s.a.Component),Qe=Object(ht.b)((function(t){return{products:t.products}}),{addProductToCart:function(t){return{type:T,payload:{productAdded:t}}}})(Le),_e=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={searchValue:"",products:[]},a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.displayProducts=a.displayProducts.bind(Object(x.a)(a)),a.displaySearchBar=a.displaySearchBar.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({products:this.props.products})}},{key:"componentDidUpdate",value:function(t,e){this.props.products!==t.products&&this.setState({products:this.props.products})}},{key:"handleChange",value:function(t){if(this.setState({searchValue:t.target.value}),""===t.target.value)this.setState({products:this.props.products});else{var e=t.target.value.toLowerCase(),n=this.props.products.filter((function(t){return t.name.toLowerCase().includes(e)}));this.setState({products:n})}}},{key:"displayProducts",value:function(){var t=this;return Object(Ot.jsx)(K.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,style:{paddingTop:"2%"},children:this.state.products&&this.state.products.map((function(e){return Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(Qe,{canBuy:e.quantity>0,canOpen:!0,canEditProduct:t.props.isUserShop,product:e})},e.productID)}))})}},{key:"displaySearchBar",value:function(){var t=this;return Object(Ot.jsx)("div",{style:{paddingTop:"20px",paddingBottom:"30px"},children:Object(Ot.jsxs)(K.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(ge.a,{})}),Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(tt.a,{label:"Search",value:this.state.searchValue,onChange:function(e){t.handleChange(e)}})})]})})}},{key:"render",value:function(){return Object(Ot.jsx)("div",{style:{width:"99vw",height:this.props.isUserShop?"80vh":"77vh",overflowY:"auto",overflowX:"hidden"},children:Object(Ot.jsxs)(K.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(Ot.jsx)(K.a,{item:!0,children:this.displaySearchBar()}),Object(Ot.jsx)(K.a,{item:!0,children:this.displayProducts()})]})})}}]),n}(s.a.Component),He=n(159),Ve=n.n(He),Ge=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={shopID:t.shopID,name:"",description:"",picture:"",cost:1,quantity:0},a.getProductData=a.getProductData.bind(Object(x.a)(a)),a.createProduct=a.createProduct.bind(Object(x.a)(a)),a.mounted=!0,a}return Object(c.a)(n,[{key:"shouldComponentUpdate",value:function(t,e){return this.mounted}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"createProduct",value:function(){var t=Object(f.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.addNewProduct(this.getProductData());case 2:e=t.sent,console.log(e),e&&this.props.onClose();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getProductData",value:function(){return{shopID:this.state.shopID,name:this.state.name,description:this.state.description,picture:this.state.picture,cost:this.state.cost,quantity:this.state.quantity}}},{key:"render",value:function(){var t=this;return Object(Ot.jsxs)(de.a,{fullWidth:!0,maxWidth:"md",open:this.props.addingProduct,onClose:this.props.onClose,children:[Object(Ot.jsx)(pe.a,{children:"Add Product Menu"}),Object(Ot.jsxs)(he.a,{style:{display:"flex"},children:[Object(Ot.jsx)("div",{style:{flex:"0 0 330px",alignSelf:"center"},children:Object(Ot.jsx)(Qe,{canEditProduct:!1,canBuy:!1,canOpen:!1,product:this.getProductData()})}),Object(Ot.jsxs)("div",{style:{flex:1},children:[Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Name",value:this.state.name,onChange:function(e){t.setState({name:e.target.value})}}),Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Description",rowsMax:4,multiline:!0,value:this.state.description,onChange:function(e){t.setState({description:e.target.value})}}),Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Picture URL",value:this.state.picture,onChange:function(e){t.setState({picture:e.target.value})}}),Object(Ot.jsx)(Y.a,{style:{fontSize:"14px",margin:"5px",color:"#184800"},children:"Update Cost"}),Object(Ot.jsxs)(K.a,{item:!0,xs:4,style:{display:"flex",justifyContent:"center",borderRadius:"15px",backgroundColor:"#CFFFB7",height:"40px",alignItems:"center",marginBottom:"10px"},children:[Object(Ot.jsx)(nt.a,{onClick:function(){t.state.cost>1&&t.setState({cost:t.state.cost-1})},children:Object(Ot.jsx)(Ue.a,{fontSize:"small"})}),Object(Ot.jsx)("input",{type:"number",value:this.state.cost,style:{backgroundColor:"inherit",border:"none",width:"100%",height:"75%",textAlign:"center"},onChange:function(e){e.target.value>0&&t.setState({cost:Number(e.target.value)})}}),Object(Ot.jsx)(nt.a,{onClick:function(){var e=t.state.cost+1;t.setState({cost:e})},children:Object(Ot.jsx)(Te.a,{fontSize:"small"})})]}),Object(Ot.jsx)(Y.a,{style:{fontSize:"14px",margin:"5px",color:"#184800"},children:"Update Quantity"}),Object(Ot.jsxs)(K.a,{item:!0,xs:4,style:{display:"flex",justifyContent:"center",borderRadius:"15px",backgroundColor:"#CFFFB7",height:"40px",alignItems:"center"},children:[Object(Ot.jsx)(nt.a,{onClick:function(){t.state.quantity>0&&t.setState({quantity:t.state.quantity-1})},children:Object(Ot.jsx)(Ue.a,{fontSize:"small"})}),Object(Ot.jsx)("input",{type:"number",value:this.state.quantity,style:{backgroundColor:"inherit",border:"none",width:"100%",height:"75%",textAlign:"center"},onChange:function(e){e.target.value>=0&&t.setState({quantity:Number(e.target.value)})}}),Object(Ot.jsx)(nt.a,{onClick:function(){t.setState({quantity:t.state.quantity+1})},children:Object(Ot.jsx)(Te.a,{fontSize:"small"})})]})]})]}),Object(Ot.jsx)(je.a,{children:Object(Ot.jsx)(ie.a,{label:"Add Product",onClick:this.createProduct,style:{background:jt,color:"white"}})})]})}}]),n}(s.a.Component),Xe=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={shopID:a.props.match?a.props.match.params.shopID:"",openedShop:null,addingProduct:!1,userShop:!1},a.getShopDetails=a.getShopDetails.bind(Object(x.a)(a)),a.addProduct=a.addProduct.bind(Object(x.a)(a)),a.displayShopProducts=a.displayShopProducts.bind(Object(x.a)(a)),a.isUserShop=a.isUserShop.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(t,e){}},{key:"componentWillUnmount",value:function(){this.props.setProducts([])}},{key:"componentDidMount",value:function(){this.getShopDetails(),this.getShopProduct()}},{key:"getShopDetails",value:function(){var t=this;if(this.props.shops){var e=this.props.shops.filter((function(e){return e.shopID===t.state.shopID})).pop();if(this.setState({openedShop:e}),_.auth().currentUser){var n=_.auth().currentUser.email;e.ownerEmail===n&&this.setState({userShop:!0})}}}},{key:"addProduct",value:function(){this.setState({addingProduct:!0})}},{key:"closeAddProduct",value:function(){this.setState({addingProduct:!1})}},{key:"getShopProduct",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.getShopProducts(this.state.shopID);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"isUserShop",value:function(){return!1}},{key:"displayShopProducts",value:function(){var t=this;return Object(Ot.jsxs)("div",{children:[Object(Ot.jsx)(_e,{products:this.props.products,isUserShop:this.state.userShop,title:this.props.openedShop&&this.props.openedShop.name}),this.state.addingProduct&&Object(Ot.jsx)(Ge,{shopID:this.state.shopID,addingProduct:this.state.addingProduct,onClose:function(){return t.closeAddProduct()}}),this.state.userShop&&Object(Ot.jsx)(nt.a,{children:Object(Ot.jsx)(Ve.a,{fontSize:"large",onClick:function(){return t.addProduct()},htmlColor:"black"})})]})}},{key:"render",value:function(){return Object(Ot.jsxs)("div",{style:{height:"100vh"},children:[Object(Ot.jsx)(Xt,{}),Object(Ot.jsx)("div",{children:Object(Ot.jsxs)(K.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(Ot.jsx)(K.a,{item:!0,children:Object(Ot.jsx)(Y.a,{variant:"h5",style:{paddingTop:"20px",fontFamily:"cursive"},children:this.state.openedShop&&this.state.openedShop.name})}),Object(Ot.jsx)(K.a,{item:!0,children:this.displayShopProducts()})]})})]})}}]),n}(s.a.Component),Je=Object(ht.b)((function(t){return{shops:t.shops,products:t.products,userShops:t.userShops}}),{setProducts:F})(Xe),$e=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={ownerEmail:"",name:"",description:"",picture:"",tag:"",tags:[],helper:"",missingFields:!1},a.getShopData=a.getShopData.bind(Object(x.a)(a)),a.deleteAllTags=a.deleteAllTags.bind(Object(x.a)(a)),a.addTag=a.addTag.bind(Object(x.a)(a)),a.addShop=a.addShop.bind(Object(x.a)(a)),a.mounted=!0,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({ownerEmail:_.auth().currentUser?_.auth().currentUser.email:""})}},{key:"shouldComponentUpdate",value:function(t,e){return this.mounted}},{key:"addShop",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(this.state.name),""===this.state.name||""===this.state.description){t.next=8;break}return t.next=4,le.createShop(this.getShopData());case 4:t.sent&&this.props.onClose(),t.next=9;break;case 8:this.setState({missingFields:!0});case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"addTag",value:function(){if(""!==this.state.tag){var t=this.state.tags;t.push(this.state.tag),this.setState({tags:t,tag:""})}}},{key:"deleteAllTags",value:function(){this.setState({tags:[]})}},{key:"getShopData",value:function(){return{ownerEmail:this.state.ownerEmail,name:this.state.name,description:this.state.description,picture:this.state.picture,tags:this.state.tags}}},{key:"render",value:function(){var t=this;return Object(Ot.jsxs)(de.a,{fullWidth:!0,maxWidth:"md",open:this.props.addingShop,onClose:this.props.onClose,children:[Object(Ot.jsx)(pe.a,{children:"Add Shop Menu"}),Object(Ot.jsxs)(he.a,{style:{display:"flex"},children:[Object(Ot.jsx)("div",{style:{flex:"0 0 330px",alignSelf:"center"},children:Object(Ot.jsx)(ye,{canEditShop:!1,canOpen:!1,shop:this.getShopData()})}),Object(Ot.jsxs)("div",{style:{flex:1},children:[Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Name",value:this.state.name,error:this.state.missingFields&&""===this.state.name,helperText:this.state.missingFields&&""===this.state.name&&"Required",onChange:function(e){t.setState({name:e.target.value})}}),Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Description",rowsMax:4,multiline:!0,value:this.state.description,error:this.state.missingFields&&""===this.state.description,helperText:this.state.missingFields&&""===this.state.description&&"Required",onChange:function(e){t.setState({description:e.target.value})}}),Object(Ot.jsx)(tt.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Add Tags",value:this.state.tag,onChange:function(e){t.setState({tag:e.target.value})},InputProps:{endAdornment:Object(Ot.jsx)(et.a,{position:"end",children:Object(Ot.jsx)(nt.a,{onClick:this.addTag,children:Object(Ot.jsx)(fe.a,{htmlColor:"#00ab55"})})})}}),Object(Ot.jsx)(at.a,{color:"secondary",style:{float:"right"},onClick:this.deleteAllTags,children:"Delete All Tags"}),Object(Ot.jsx)(tt.a,{margin:"normal",variant:"outlined",fullWidth:!0,label:"Update Picture URL",value:this.state.picture,onChange:function(e){t.setState({picture:e.target.value})}})]})]}),Object(Ot.jsx)(je.a,{children:Object(Ot.jsx)(ie.a,{label:"Create Shop",onClick:this.addShop,style:{background:jt,color:"white"}})})]})}}]),n}(s.a.Component),Ke=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a.addNewShop=a.addNewShop.bind(Object(x.a)(a)),a.closeAddShop=a.closeAddShop.bind(Object(x.a)(a)),a}return Object(c.a)(n,[{key:"addNewShop",value:function(){this.setState({addingShop:!0})}},{key:"closeAddShop",value:function(){this.setState({addingShop:!1})}},{key:"render",value:function(){return Object(Ot.jsxs)("div",{style:{height:"100vh"},children:[!this.props.isAuthenticated&&Object(Ot.jsx)(p.a,{to:{pathname:"/home"}}),Object(Ot.jsx)(Xt,{}),Object(Ot.jsx)(Se,{shops:this.props.userShops,canEdit:!0,title:"My Shops"}),Object(Ot.jsx)(nt.a,{onClick:this.addNewShop,children:Object(Ot.jsx)(Ve.a,{fontSize:"large",htmlColor:"black"})}),this.state.addingShop&&Object(Ot.jsx)($e,{addingShop:this.state.addingShop,onClose:this.closeAddShop})]})}}]),n}(s.a.Component),Ye=Object(ht.b)((function(t){return{userShops:t.userShops,isAuthenticated:t.isAuthenticated}}),{})(Ke),Ze=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={},a}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(t,e){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(Ot.jsx)("div",{className:"BackgroundHome",children:Object(Ot.jsx)(d.a,{children:Object(Ot.jsxs)(p.d,{children:[Object(Ot.jsx)(p.b,{path:"/sign-in",exact:!0,component:function(){return Object(Ot.jsx)(Pt,{})}}),Object(Ot.jsx)(p.b,{path:"/create-account",exact:!0,component:function(){return Object(Ot.jsx)(gt,{})}}),Object(Ot.jsx)(p.b,{path:"/checkout",component:function(){return Object(Ot.jsx)(Re,{})}}),Object(Ot.jsx)(p.b,{path:"/home",exact:!0,component:function(){return Object(Ot.jsx)(Ce,{})}}),Object(Ot.jsx)(p.b,{path:"/my-shops",component:function(){return Object(Ot.jsx)(Ye,{})}}),Object(Ot.jsx)(p.b,{path:"/shop/:shopID",component:Je}),Object(Ot.jsx)(p.b,{render:function(){return Object(Ot.jsx)(p.a,{to:"/home"})}})]})})})}}]),n}(s.a.Component),tn=Object(ht.b)((function(t){return{isAuthenticated:t.isAuthenticated}}),{})(Ze);n(316);var en=function(){return Object(Ot.jsx)("div",{className:"App",children:Object(Ot.jsx)(ht.a,{store:X,children:Object(Ot.jsx)(tn,{})})})},nn=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,593)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),r(t),i(t)}))};i.a.render(Object(Ot.jsx)(s.a.StrictMode,{children:Object(Ot.jsx)(en,{})}),document.getElementById("root")),nn()}},[[523,1,2]]]);
//# sourceMappingURL=main.3382a4ce.chunk.js.map
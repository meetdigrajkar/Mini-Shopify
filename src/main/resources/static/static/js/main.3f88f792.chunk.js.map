{"version":3,"sources":["redux/actionTypes.js","redux/actions.js","services/firebase.config.js","redux/store.js","services/AuthService.js","constants/constants.js","components/CreateAccount.js","components/SignIn.js","components/topBar/RedirectSignInButton.js","components/topBar/RedirectHomeButton.js","components/topBar/RedirectUserShopsButton.js","components/topBar/CartButton.js","components/topBar/TopBar.js","components/shop/DisplayShopTags.js","services/ShopService.js","components/shop/EditShop.js","components/shop/Shop.js","components/shop/DisplayShops.js","components/shop/BrowseShops.js","components/Home.js","components/Checkout/EmptyCart.js","components/Checkout/CartProduct.js","components/Checkout/Summary.js","components/Checkout/Checkout.js","components/product/EditProduct.js","components/product/Product.js","components/product/DisplayProducts.js","components/product/AddProduct.js","components/product/ShopProducts.js","components/shop/AddShop.js","components/shop/UserShops.js","components/Main.js","App.js","reportWebVitals.js","index.js"],"names":["SET_AUTHENTICATE","SET_ID_TOKEN","SET_SHOPS","DELETE_SHOP","UPDATE_SHOP","DELETE_PRODUCT","UPDATE_PRODUCT","ADD_PRODUCT","CREATE_SHOP","SET_USER_SHOPS","SET_PRODUCTS","ADD_PRODUCT_TO_CART","DELETE_PRODUCT_FROM_CART","UPDATE_CART","setAuthenticated","flag","type","payload","isAuthenticated","setIdToken","idToken","setShops","shops","setProducts","products","deleteShop","shopID","deleteProduct","productID","updateShop","updatedShop","addProduct","productAdded","updateCart","cartProducts","createShop","createdShop","updateProduct","updatedProduct","window","firebase","apps","length","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createStore","require","initialState","userShops","store","state","action","newState","JSON","parse","stringify","user","auth","currentUser","filter","shop","ownerEmail","email","cartProduct","filteredList","product","newList","push","forEach","selectedQuantity","quantity","productDeleted","filteredShopList","serializedState","localStorage","getItem","error","console","log","loadFromLocalStorage","__REDUX_DEVTOOLS_EXTENSION__","subscribe","setItem","saveToLocalStorage","getState","a","success","message","this","signInWithEmailAndPassword","password","then","res","getIdToken","dispatch","signOut","catch","createAccountWithEmailAndPassword","updateUserName","name","token","createUserWithEmailAndPassword","displayName","updateProfile","PRIMARY_THEME_COLOR","EMPTY_PRODUCT_IMG_URL","EMPTY_SHOP_IMG_URL","theme","createMuiTheme","spacing","CreateAccount","props","redirectToSignIn","showPassword","registrationFailed","openNotification","createAccountSuccess","handleSubmit","bind","toggleVisibility","handleClose","showNotificationPop","visibility","setState","Snackbar","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert","severity","variant","AuthService","createAccount","className","to","pathname","Grid","container","component","style","height","onClick","Typography","paddingBottom","alignSelf","Tooltip","title","src","width","marginTop","undefined","flexGrow","sm","item","TextField","InputProps","startAdornment","InputAdornment","position","htmlColor","value","onChange","event","target","margin","fullWidth","label","required","autoFocus","helperText","id","autoComplete","endAdornment","IconButton","color","Button","padding","backgroundColor","borderRadius","React","Component","connect","SignIn","handleMouseDownPassword","preventDefault","authenticateFailed","redirectToCreateAccount","signInSuccess","signIn","noValidate","RedirectSignInButton","render","history","borderColor","fontVariant","RedirectHomeButton","Icon","fontSize","alt","location","origin","RedirectUserShopsButton","CartButton","marginRight","Badge","badgeContent","TopBar","openDropdown","anchorEl","openMenu","closeMenu","getMenu","currentTarget","Menu","keepMounted","getContentAnchorEl","transformOrigin","marginBottom","paddingLeft","paddingRight","Divider","MenuItem","ListItemIcon","ListItemText","primary","marginLeft","AppBar","background","Toolbar","inCart","edge","DisplayShopTags","justify","tags","map","tag","Chip","size","headers","config","getHeaders","axios","post","endpoint","data","checkoutProductsList","get","url","GET_SHOP_PRODUCTS","EditShop","shopData","description","picture","getShopData","deleteAllTags","discardChanges","addTag","mounted","selectedShop","nextProps","nextState","ShopService","Dialog","maxWidth","DialogTitle","DialogContent","display","flex","canEditShop","canOpen","rowsMax","multiline","float","DialogActions","Shop","openDialog","openSnackBar","currentShop","openEditShop","closeSnackBar","closeEditShop","openShop","getShopImg","renderSnackBar","canEdit","Card","minWidth","minHeight","boxShadow","CardHeader","avatar","TransitionComponent","Zoom","CardActionArea","CardMedia","paddingTop","image","CardContent","withRouter","DisplayShops","addingShop","selectedTag","searchValue","handleChange","handleSelectChange","setShopAndShopTags","displayShops","displaySearchBar","prevProps","prevState","tagsList","Set","add","Array","from","searchedValue","toLowerCase","filteredData","includes","overflowY","overflowX","alignItems","Select","native","aria-label","direction","fontFamily","BrowseShops","Home","getShops","getAllShops","EmptyCart","fontWeight","CartItem","updateQuantity","removeProductFromCart","number","removeProduct","xs","justifyContent","Avatar","cost","toFixed","Summary","calculateTotal","total","maxHeight","checkoutProducts","Checkout","setTotal","setLocalCartCopy","cart","displayFilledCart","newCartList","itemCost","currentCartList","obj","checkoutCartProducts","overflow","EditProduct","productData","getProductData","selectedProduct","canEditProduct","canBuy","border","textAlign","Number","Product","match","params","myShop","currentProduct","openEditProduct","closeEditProduct","getProductImg","addToCart","addProductToCart","DisplayProducts","displayProducts","isUserShop","AddProduct","createProduct","addNewProduct","addingProduct","newCost","ShopProducts","openedShop","userShop","getShopDetails","displayShopProducts","getShopProduct","pop","userEmail","getShopProducts","closeAddProduct","AddShop","helper","missingFields","addShop","UserShops","addNewShop","closeAddShop","Main","path","exact","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3f88f792.chunk.js","sourcesContent":["export const SET_AUTHENTICATE = \"SET_AUTHENTICATE\";\r\nexport const SET_ID_TOKEN = \"SET_ID_TOKEN\";\r\nexport const SET_SHOPS = \"SET_SHOPS\";\r\nexport const DELETE_SHOP = \"DELETE_SHOP\";\r\nexport const UPDATE_SHOP = \"UPDATE_SHOP\";\r\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\r\nexport const UPDATE_PRODUCT = \"UPDATE_PRODUCT\";\r\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\r\nexport const CREATE_SHOP = \"CREATE_SHOP\";\r\nexport const SET_USER_SHOPS = \"SET_USER_SHOPS\";\r\nexport const SET_PRODUCTS = \"SET_PRODUCTS\";\r\nexport const ADD_PRODUCT_TO_CART = \"ADD_PRODUCT_TO_CART\";\r\nexport const DELETE_PRODUCT_FROM_CART = \"DELETE_PRODUCT_FROM_CART\";\r\nexport const UPDATE_CART = \"UPDATE_CART\";\r\n","import {\r\n  SET_AUTHENTICATE,\r\n  SET_ID_TOKEN,\r\n  SET_SHOPS,\r\n  DELETE_SHOP,\r\n  SET_USER_SHOPS,\r\n  UPDATE_SHOP,\r\n  SET_PRODUCTS,\r\n  UPDATE_PRODUCT,\r\n  DELETE_PRODUCT,\r\n  ADD_PRODUCT,\r\n  CREATE_SHOP,\r\n  ADD_PRODUCT_TO_CART,\r\n  UPDATE_CART,\r\n  DELETE_PRODUCT_FROM_CART,\r\n} from \"./actionTypes\";\r\n\r\nexport const setAuthenticated = (flag) => ({\r\n  type: SET_AUTHENTICATE,\r\n  payload: {\r\n    isAuthenticated: flag,\r\n  },\r\n});\r\n\r\nexport const setIdToken = (idToken) => ({\r\n  type: SET_ID_TOKEN,\r\n  payload: {\r\n    idToken: idToken,\r\n  },\r\n});\r\n\r\nexport const setShops = (shops) => ({\r\n  type: SET_SHOPS,\r\n  payload: {\r\n    shops: shops,\r\n  },\r\n});\r\n\r\nexport const setProducts = (products) => ({\r\n  type: SET_PRODUCTS,\r\n  payload: {\r\n    products: products,\r\n  },\r\n});\r\n\r\nexport const deleteShop = (shopID) => ({\r\n  type: DELETE_SHOP,\r\n  payload: {\r\n    shopID: shopID,\r\n  },\r\n});\r\n\r\nexport const deleteProduct = (productID) => ({\r\n  type: DELETE_PRODUCT,\r\n  payload: {\r\n    productID: productID,\r\n  },\r\n});\r\n\r\nexport const updateShop = (updatedShop) => ({\r\n  type: UPDATE_SHOP,\r\n  payload: {\r\n    updatedShop: updatedShop,\r\n  },\r\n});\r\n\r\nexport const addProduct = (productAdded) => ({\r\n  type: ADD_PRODUCT,\r\n  payload: {\r\n    productAdded: productAdded,\r\n  },\r\n});\r\n\r\nexport const addProductToCart = (productAdded) => ({\r\n  type: ADD_PRODUCT_TO_CART,\r\n  payload: {\r\n    productAdded: productAdded,\r\n  },\r\n});\r\n\r\nexport const deleteProductFromCart = (productDeleted) => ({\r\n  type: DELETE_PRODUCT_FROM_CART,\r\n  payload: {\r\n    productDeleted: productDeleted,\r\n  },\r\n});\r\n\r\nexport const updateCart = (cartProducts) => ({\r\n  type: UPDATE_CART,\r\n  payload: {\r\n    cartProducts: cartProducts,\r\n  },\r\n});\r\n\r\nexport const createShop = (createdShop) => ({\r\n  type: CREATE_SHOP,\r\n  payload: {\r\n    createdShop: createdShop,\r\n  },\r\n});\r\n\r\nexport const updateProduct = (updatedProduct) => ({\r\n  type: UPDATE_PRODUCT,\r\n  payload: {\r\n    updatedProduct: updatedProduct,\r\n  },\r\n});\r\n\r\nexport const setUserShops = (userShops) => ({\r\n  type: SET_USER_SHOPS,\r\n  payload: {\r\n    userShops: userShops,\r\n  },\r\n});\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyDoDsFyMx1bfaWqOCy83xyt2EvkE2O46nM\",\r\n  authDomain: \"minishopify-sysc4806.firebaseapp.com\",\r\n  databaseURL: \"https://minishopify-sysc4806-default-rtdb.firebaseio.com\",\r\n  projectId: \"minishopify-sysc4806\",\r\n  storageBucket: \"minishopify-sysc4806.appspot.com\",\r\n  messagingSenderId: \"283125325434\",\r\n  appId: \"1:283125325434:web:a0bd08e9edcab20524a5c3\",\r\n  measurementId: \"G-NTFEGXXLW6\",\r\n};\r\n\r\nif (typeof window !== \"undefined\" && !firebase.apps.length) {\r\n  firebase.initializeApp(config);\r\n}\r\n\r\nexport default firebase;\r\n","import {\r\n  SET_AUTHENTICATE,\r\n  SET_ID_TOKEN,\r\n  SET_SHOPS,\r\n  DELETE_SHOP,\r\n  SET_USER_SHOPS,\r\n  UPDATE_SHOP,\r\n  DELETE_PRODUCT,\r\n  UPDATE_PRODUCT,\r\n  SET_PRODUCTS,\r\n  ADD_PRODUCT,\r\n  CREATE_SHOP,\r\n  ADD_PRODUCT_TO_CART,\r\n  UPDATE_CART,\r\n  DELETE_PRODUCT_FROM_CART,\r\n} from \"./actionTypes\";\r\nimport firebase from \"../services/firebase.config\";\r\n\r\nconst { createStore } = require(\"redux\");\r\n\r\nfunction saveToLocalStorage(state) {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"state\", serializedState);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nfunction loadFromLocalStorage() {\r\n  try {\r\n    const serializedState = localStorage.getItem(\"state\");\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (error) {\r\n    console.log(error);\r\n    return undefined;\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  idToken: \"\",\r\n  shops: [],\r\n  cartProducts: [],\r\n  products: [],\r\n  userShops: [],\r\n};\r\n\r\nconst myReducer = (state = initialState, action) => {\r\n  const newState = JSON.parse(JSON.stringify(state));\r\n\r\n  if (action.type === SET_AUTHENTICATE) {\r\n    newState.isAuthenticated = action.payload.isAuthenticated;\r\n  }\r\n\r\n  if (action.type === SET_ID_TOKEN) {\r\n    newState.idToken = action.payload.idToken;\r\n  }\r\n\r\n  if (action.type === SET_SHOPS) {\r\n    newState.shops = action.payload.shops;\r\n\r\n    const user = firebase.auth().currentUser;\r\n    if (user !== null) {\r\n      const userShops = action.payload.shops.filter(\r\n        (shop) => shop.ownerEmail === user.email\r\n      );\r\n      newState.userShops = userShops;\r\n    }\r\n  }\r\n\r\n  if (action.type === SET_PRODUCTS) {\r\n    newState.products = action.payload.products;\r\n  }\r\n\r\n  if (action.type === ADD_PRODUCT_TO_CART) {\r\n    const cartProduct = action.payload.productAdded;\r\n\r\n    // Find the cart product in the cart list\r\n    const filteredList = newState.cartProducts.filter(\r\n      (product) => product.productID === cartProduct.productID\r\n    );\r\n\r\n    // The item does not exist in the cart\r\n    if (filteredList.length === 0) {\r\n      const newList = newState.cartProducts;\r\n      newList.push(cartProduct);\r\n      newState.cartProducts = newList;\r\n      // newState.cartProducts.push(cartProduct);\r\n    }\r\n\r\n    // If it does exist, update the selected quantity\r\n    else {\r\n      newState.cartProducts.forEach((product) => {\r\n        if (product.productID === cartProduct.productID) {\r\n          if (\r\n            product.selectedQuantity + cartProduct.selectedQuantity <=\r\n            product.quantity\r\n          ) {\r\n            product.selectedQuantity += cartProduct.selectedQuantity;\r\n          }\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  if (action.type === UPDATE_CART) {\r\n    newState.cartProducts = action.payload.cartProducts;\r\n  }\r\n\r\n  if (action.type === DELETE_PRODUCT_FROM_CART) {\r\n    const cartProduct = action.payload.productDeleted;\r\n\r\n    // Find the cart product in the cart list\r\n    const filteredList = newState.cartProducts.filter(\r\n      (product) => product.productID !== cartProduct.productID\r\n    );\r\n\r\n    newState.cartProducts = filteredList;\r\n  }\r\n\r\n  if (action.type === SET_USER_SHOPS) {\r\n    newState.userShops = action.payload.userShops;\r\n  }\r\n\r\n  if (action.type === DELETE_SHOP) {\r\n    const filteredShopList = newState.shops.filter(\r\n      (shop) => shop.shopID !== action.payload.shopID\r\n    );\r\n\r\n    const user = firebase.auth().currentUser;\r\n    if (user !== null) {\r\n      const userShops = filteredShopList.filter(\r\n        (shop) => shop.ownerEmail === user.email\r\n      );\r\n      newState.userShops = userShops;\r\n    }\r\n\r\n    newState.shops = filteredShopList;\r\n  }\r\n\r\n  if (action.type === UPDATE_SHOP) {\r\n    const filteredList = newState.shops.filter(\r\n      (shop) => shop.shopID !== action.payload.updatedShop.shopID\r\n    );\r\n    filteredList.push(action.payload.updatedShop);\r\n\r\n    const user = firebase.auth().currentUser;\r\n    if (user !== null) {\r\n      const userShops = filteredList.filter(\r\n        (shop) => shop.ownerEmail === user.email\r\n      );\r\n      newState.userShops = userShops;\r\n    }\r\n\r\n    newState.shops = filteredList;\r\n  }\r\n\r\n  if (action.type === DELETE_PRODUCT) {\r\n    const filteredList = newState.products.filter(\r\n      (product) => product.productID !== action.payload.productID\r\n    );\r\n    newState.products = filteredList;\r\n  }\r\n\r\n  if (action.type === ADD_PRODUCT) {\r\n    newState.products.push(action.payload.productAdded);\r\n  }\r\n\r\n  if (action.type === CREATE_SHOP) {\r\n    newState.userShops.push(action.payload.createdShop);\r\n    newState.shops.push(action.payload.createdShop);\r\n  }\r\n\r\n  if (action.type === UPDATE_PRODUCT) {\r\n    const filteredList = newState.products.filter(\r\n      (product) => product.productID !== action.payload.updatedProduct.productID\r\n    );\r\n    filteredList.push(action.payload.updatedProduct);\r\n    newState.products = filteredList;\r\n  }\r\n\r\n  return newState;\r\n};\r\n\r\nconst persistedState = loadFromLocalStorage();\r\n\r\nconst store = createStore(\r\n  myReducer,\r\n  persistedState,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()));\r\n\r\nexport default store;\r\n","import {\r\n  setAuthenticated,\r\n  setIdToken,\r\n  setProducts,\r\n  setShops,\r\n  setUserShops,\r\n} from \"../redux/actions\";\r\nimport store from \"../redux/store\";\r\nimport firebase from \"./firebase.config\";\r\n\r\nclass AuthService {\r\n  async signIn(user) {\r\n    var [success, message] = [false, \"Unable to sign in!\"];\r\n    await this.signInWithEmailAndPassword(user.email, user.password).then(\r\n      (res) => {\r\n        [success, message] = res;\r\n      }\r\n    );\r\n\r\n    if (success) {\r\n      const idToken = await this.getIdToken();\r\n      store.dispatch(setAuthenticated(true));\r\n      store.dispatch(setIdToken(idToken));\r\n    }\r\n\r\n    return [success, message];\r\n  }\r\n\r\n  async signOut() {\r\n    await firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        store.dispatch(setAuthenticated(false));\r\n        store.dispatch(setIdToken(\"\"));\r\n        store.dispatch(setUserShops([]));\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        return false;\r\n      });\r\n  }\r\n\r\n  async createAccount(user) {\r\n    var [success, message] = [false, \"Unable to create an Account!\"];\r\n    await this.createAccountWithEmailAndPassword(\r\n      user.email,\r\n      user.password\r\n    ).then((res) => {\r\n      [success, message] = res;\r\n    });\r\n\r\n    if (success) {\r\n      await this.updateUserName(user.name);\r\n      const idToken = await this.getIdToken();\r\n      store.dispatch(setAuthenticated(true));\r\n      store.dispatch(setIdToken(idToken));\r\n    }\r\n\r\n    return [success, message];\r\n  }\r\n\r\n  async getIdToken() {\r\n    var currentUser = firebase.auth().currentUser;\r\n    if (currentUser !== null) {\r\n      return await currentUser\r\n        .getIdToken()\r\n        .then((token) => {\r\n          return token;\r\n        })\r\n        .catch((error) => {\r\n          return false;\r\n        });\r\n    }\r\n  }\r\n\r\n  async createAccountWithEmailAndPassword(email, password) {\r\n    return await firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((res) => {\r\n        return [true, \"Account Successfully created!\"];\r\n      })\r\n      .catch((error) => {\r\n        return [false, error.message];\r\n      });\r\n  }\r\n\r\n  async signInWithEmailAndPassword(email, password) {\r\n    return await firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((res) => {\r\n        var message = \"Welcome back \" + res.user.displayName + \"!\";\r\n        return [true, message];\r\n      })\r\n      .catch((error) => {\r\n        return [false, error.message];\r\n      });\r\n  }\r\n\r\n  async updateUserName(name) {\r\n    var currentUser = firebase.auth().currentUser;\r\n    if (currentUser !== null) {\r\n      return await currentUser\r\n        .updateProfile({ displayName: name })\r\n        .then((res) => {\r\n          return true;\r\n        })\r\n        .catch((error) => {\r\n          return false;\r\n        });\r\n    }\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","export const PRIMARY_THEME_COLOR = \"#00ab55\";\r\n\r\n// linear-gradient(to bottom right, #000000 0%, #0000ff 100%) blue gradient\r\n// linear-gradient(to bottom right, #003300 0%, #00cc99 100%) Green gradient\r\n\r\nexport const SHIPPING_COST = 2;\r\n\r\nexport const EMPTY_PRODUCT_IMG_URL = \"https://source.unsplash.com/random\";\r\nexport const EMPTY_SHOP_IMG_URL = \"https://source.unsplash.com/random\";\r\n","import React from \"react\";\r\nimport AuthService from \"../services/AuthService\";\r\nimport { Redirect } from \"react-router\";\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Tooltip,\r\n  InputAdornment,\r\n  IconButton,\r\n  Snackbar,\r\n} from \"@material-ui/core\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport EmailIcon from \"@material-ui/icons/Email\";\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport { connect } from \"react-redux\";\r\nimport { setAuthenticated } from \"../redux/actions\";\r\nimport { PRIMARY_THEME_COLOR } from \"../constants/constants\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nconst theme = createMuiTheme({\r\n  spacing: [0, 4, 8, 16, 32, 64],\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isAuthenticated: state.isAuthenticated };\r\n};\r\n\r\nclass CreateAccount extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      redirectToSignIn: false,\r\n      showPassword: false,\r\n      registrationFailed: false,\r\n      message: \"\",\r\n      openNotification: false,\r\n      createAccountSuccess: false,\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.toggleVisibility = this.toggleVisibility.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.showNotificationPop = this.showNotificationPop.bind(this);\r\n  }\r\n\r\n  toggleVisibility() {\r\n    const visibility = this.state.showPassword;\r\n    this.setState({ showPassword: !visibility });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ openNotification: false });\r\n  }\r\n\r\n  showNotificationPop() {\r\n    return (\r\n      <Snackbar\r\n        open={this.state.openNotification}\r\n        autoHideDuration={6000}\r\n        onClose={this.handleClose}\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      >\r\n        <Alert\r\n          onClose={this.handleClose}\r\n          severity={this.state.createAccountSuccess ? \"success\" : \"error\"}\r\n          variant=\"filled\"\r\n        >\r\n          {this.state.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    );\r\n  }\r\n\r\n  async handleSubmit() {\r\n    var user = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    };\r\n\r\n    if (user.email !== \"\" && user.password !== \"\") {\r\n      var [success, message] = await AuthService.createAccount(user);\r\n\r\n      if (!success) {\r\n        this.setState({ registrationFailed: true });\r\n      }\r\n\r\n      this.setState({\r\n        message: message,\r\n        openNotification: true,\r\n        createAccountSuccess: success,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"BackgroundAuth\">\r\n        {this.showNotificationPop()}\r\n        {this.state.redirectToSignIn && (\r\n          <Redirect to={{ pathname: \"/sign-in\" }} />\r\n        )}\r\n\r\n        {this.props.isAuthenticated && <Redirect to={{ pathname: \"/\" }} />}\r\n\r\n        <Grid container component=\"main\" style={{ height: \"100vh\" }}>\r\n          <div className=\"LeftGridPhoto\" />\r\n          <div className=\"RightGrid\">\r\n            <div className=\"AuthPlacement\">\r\n              <p>\r\n                Already have an account?\r\n                <a\r\n                  className=\"AuthRedirectLink\"\r\n                  onClick={() => this.setState({ redirectToSignIn: true })}\r\n                >\r\n                  Sign In\r\n                </a>\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"SignInGrid\">\r\n              <div className=\"AuthDescriptionBox\">\r\n                <div className=\"AuthDescription\">\r\n                  <Typography\r\n                    component=\"h1\"\r\n                    variant=\"h5\"\r\n                    style={{ paddingBottom: \"10px\", alignSelf: \"start\" }}\r\n                  >\r\n                    Create your account on MiniShopify\r\n                  </Typography>\r\n\r\n                  <Typography\r\n                    component=\"h1\"\r\n                    variant=\"subtitle1\"\r\n                    style={{ paddingBottom: \"10px\", alignSelf: \"flex-start\" }}\r\n                  >\r\n                    Enter your details below.\r\n                  </Typography>\r\n                </div>\r\n\r\n                <div>\r\n                  <Tooltip title=\"Firebase\">\r\n                    <img\r\n                      className=\"FireboxImg\"\r\n                      src=\"/static/icons/firebase.png\"\r\n                    />\r\n                  </Tooltip>\r\n                </div>\r\n              </div>\r\n              <form\r\n                style={{ width: \"100%\", marginTop: \"1px\" }}\r\n                action={undefined}\r\n              >\r\n                <Grid container style={{ flexGrow: 1 }}>\r\n                  <Grid sm={12} item>\r\n                    <TextField\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <AssignmentIndIcon\r\n                              htmlColor={PRIMARY_THEME_COLOR}\r\n                            />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                      value={this.state.name}\r\n                      onChange={(event) =>\r\n                        this.setState({ name: event.target.value })\r\n                      }\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      label=\"Name\"\r\n                      name=\"name\"\r\n                      required\r\n                      autoFocus\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n                <TextField\r\n                  helperText={\r\n                    this.state.registrationFailed ? \"Incorrect Entry\" : \"\"\r\n                  }\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <EmailIcon htmlColor={PRIMARY_THEME_COLOR} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                  value={this.state.email}\r\n                  onChange={(event) =>\r\n                    this.setState({ email: event.target.value })\r\n                  }\r\n                  error={this.state.registrationFailed}\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  autoFocus\r\n                />\r\n\r\n                <TextField\r\n                  InputProps={{\r\n                    endAdornment: (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton onClick={this.toggleVisibility}>\r\n                          {this.state.showPassword ? (\r\n                            <Visibility htmlColor={PRIMARY_THEME_COLOR} />\r\n                          ) : (\r\n                            <VisibilityOff htmlColor={PRIMARY_THEME_COLOR} />\r\n                          )}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                  value={this.state.password}\r\n                  onChange={(event) =>\r\n                    this.setState({ password: event.target.value })\r\n                  }\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  fullWidth\r\n                  label=\"Password\"\r\n                  type={this.state.showPassword ? \"text\" : \"password\"}\r\n                  required\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  style={{\r\n                    padding: \"10px\",\r\n                    margin: theme.spacing(3, 0, 2),\r\n                    backgroundColor: PRIMARY_THEME_COLOR,\r\n                    borderRadius: \"12px\",\r\n                  }}\r\n                  onClick={this.handleSubmit}\r\n                >\r\n                  Register\r\n                </Button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { setAuthenticated })(CreateAccount);\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport AuthService from \"../services/AuthService\";\r\nimport { connect } from \"react-redux\";\r\nimport { setAuthenticated } from \"../redux/actions\";\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Tooltip,\r\n  InputAdornment,\r\n  IconButton,\r\n  Snackbar,\r\n} from \"@material-ui/core\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport \"../styling/styles.css\";\r\nimport { PRIMARY_THEME_COLOR } from \"../constants/constants\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isAuthenticated: state.isAuthenticated };\r\n};\r\n\r\nconst theme = createMuiTheme({\r\n  spacing: [0, 4, 8, 16, 32, 64],\r\n});\r\n\r\nclass SignIn extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      authenticateFailed: false,\r\n      redirectToCreateAccount: false,\r\n      showPassword: false,\r\n      message: \"\",\r\n      openNotification: false,\r\n      signInSuccess: false,\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.toggleVisibility = this.toggleVisibility.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.showNotificationPop = this.showNotificationPop.bind(this);\r\n  }\r\n\r\n  async handleSubmit() {\r\n    var user = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    };\r\n\r\n    if (user.email !== \"\" && user.password !== \"\") {\r\n      var [success, message] = await AuthService.signIn(user);\r\n\r\n      if (!success) {\r\n        this.setState({ authenticateFailed: true });\r\n      }\r\n\r\n      this.setState({\r\n        message: message,\r\n        openNotification: true,\r\n        signInSuccess: success,\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleVisibility() {\r\n    const visibility = this.state.showPassword;\r\n    this.setState({ showPassword: !visibility });\r\n  }\r\n\r\n  handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  handleClose() {\r\n    this.setState({ openNotification: false });\r\n  }\r\n\r\n  showNotificationPop() {\r\n    return (\r\n      <Snackbar\r\n        open={this.state.openNotification}\r\n        autoHideDuration={6000}\r\n        onClose={this.handleClose}\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      >\r\n        <Alert\r\n          onClose={this.handleClose}\r\n          severity={this.state.signInSuccess ? \"success\" : \"error\"}\r\n          variant=\"filled\"\r\n        >\r\n          {this.state.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"BackgroundAuth\">\r\n        {this.showNotificationPop()}\r\n        {this.state.redirectToCreateAccount && (\r\n          <Redirect to={{ pathname: \"/create-account\" }} />\r\n        )}\r\n\r\n        {this.props.isAuthenticated && <Redirect to={{ pathname: \"/\" }} />}\r\n\r\n        <Grid container component=\"main\" style={{ height: \"100vh\" }}>\r\n          <div className=\"LeftGridPhoto\" />\r\n          <div className=\"RightGrid\">\r\n            <div className=\"AuthPlacement\">\r\n              <p>\r\n                Don't have an account?\r\n                <a\r\n                  className=\"AuthRedirectLink\"\r\n                  onClick={() =>\r\n                    this.setState({ redirectToCreateAccount: true })\r\n                  }\r\n                >\r\n                  Get started\r\n                </a>\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"SignInGrid\">\r\n              <div className=\"AuthDescriptionBox\">\r\n                <div className=\"AuthDescription\">\r\n                  <Typography\r\n                    component=\"h1\"\r\n                    variant=\"h5\"\r\n                    style={{ paddingBottom: \"10px\", alignSelf: \"start\" }}\r\n                  >\r\n                    Sign in to MiniShopify\r\n                  </Typography>\r\n\r\n                  <Typography\r\n                    component=\"h1\"\r\n                    variant=\"subtitle1\"\r\n                    style={{ paddingBottom: \"10px\", alignSelf: \"flex-start\" }}\r\n                  >\r\n                    Enter your details below.\r\n                  </Typography>\r\n                </div>\r\n\r\n                <div>\r\n                  <Tooltip title=\"Firebase\">\r\n                    <img\r\n                      className=\"FireboxImg\"\r\n                      src=\"/static/icons/firebase.png\"\r\n                    />\r\n                  </Tooltip>\r\n                </div>\r\n              </div>\r\n              <form\r\n                style={{ width: \"100%\", marginTop: \"1px\" }}\r\n                noValidate\r\n                action={undefined}\r\n              >\r\n                <TextField\r\n                  helperText={\r\n                    this.state.authenticateFailed ? \"Invalid Input.\" : \"\"\r\n                  }\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <AccountCircle htmlColor={PRIMARY_THEME_COLOR} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                  value={this.state.email}\r\n                  onChange={(event) =>\r\n                    this.setState({ email: event.target.value })\r\n                  }\r\n                  error={this.state.authenticateFailed}\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  autoFocus\r\n                  style={{ borderRadius: \"12px\" }}\r\n                />\r\n\r\n                <TextField\r\n                  helperText={\r\n                    this.state.authenticateFailed ? \"Invalid Input.\" : \"\"\r\n                  }\r\n                  InputProps={{\r\n                    endAdornment: (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton onClick={this.toggleVisibility}>\r\n                          {this.state.showPassword ? (\r\n                            <Visibility htmlColor={PRIMARY_THEME_COLOR} />\r\n                          ) : (\r\n                            <VisibilityOff htmlColor={PRIMARY_THEME_COLOR} />\r\n                          )}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                  value={this.state.password}\r\n                  onChange={(event) =>\r\n                    this.setState({ password: event.target.value })\r\n                  }\r\n                  error={this.state.authenticateFailed}\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  fullWidth\r\n                  label=\"Password\"\r\n                  type={this.state.showPassword ? \"text\" : \"password\"}\r\n                  required\r\n                  autoComplete=\"current-password\"\r\n                  style={{ borderRadius: \"20px\" }}\r\n                />\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  style={{\r\n                    padding: \"10px\",\r\n                    margin: theme.spacing(3, 0, 2),\r\n                    backgroundColor: PRIMARY_THEME_COLOR,\r\n                    borderRadius: \"12px\",\r\n                  }}\r\n                  onClick={this.handleSubmit}\r\n                >\r\n                  Sign In\r\n                </Button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { setAuthenticated })(SignIn);\r\n","import { Button } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nclass RedirectSignInButton extends React.Component {\r\n  render() {\r\n    return (\r\n      <Route\r\n        render={({ history }) => (\r\n          <Button\r\n            variant=\"outlined\"\r\n            style={{\r\n              color: \"white\",\r\n              borderColor: \"white\",\r\n              fontVariant: \"unicase\",\r\n            }}\r\n            onClick={() => {\r\n              history.push(\"/sign-in\");\r\n            }}\r\n          >\r\n            Sign In\r\n          </Button>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default RedirectSignInButton;\r\n","import { IconButton, Icon, Tooltip } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nclass RedirectHomeButton extends React.Component {\r\n  render() {\r\n    return (\r\n      <Route\r\n        render={({ history }) => (\r\n          <Tooltip title={\"Browse Shops\"}>\r\n            <IconButton\r\n              onClick={() => {\r\n                history.push(\"/home\");\r\n              }}\r\n            >\r\n              <Icon style={{ fontSize: 35 }}>\r\n                <img\r\n                  alt=\"edit\"\r\n                  src={window.location.origin + \"/shopSmall.ico\"}\r\n                />\r\n              </Icon>\r\n            </IconButton>\r\n          </Tooltip>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default RedirectHomeButton;\r\n","import { Button } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nclass RedirectUserShopsButton extends React.Component {\r\n  render() {\r\n    return (\r\n      <Route\r\n        render={({ history }) => (\r\n          <Button\r\n            variant=\"outlined\"\r\n            style={{\r\n              color: \"white\",\r\n              borderColor: \"white\",\r\n              fontVariant: \"unicase\",\r\n            }}\r\n            onClick={() => {\r\n              history.push(\"/my-shops\");\r\n            }}\r\n          >\r\n            My Shops\r\n          </Button>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default RedirectUserShopsButton;\r\n","import { IconButton, Tooltip, Badge } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { cartProducts: state.cartProducts };\r\n};\r\n\r\nclass CartButton extends React.Component {\r\n  render() {\r\n    return (\r\n      <Route\r\n        render={({ history }) => (\r\n          <Tooltip title={\"Cart\"}>\r\n            <IconButton\r\n              onClick={() => {\r\n                history.push(\"/checkout\");\r\n              }}\r\n              style={{ marginRight: \"10px\" }}\r\n            >\r\n              <Badge\r\n                badgeContent={\r\n                  this.props.cartProducts && this.props.cartProducts.length\r\n                }\r\n                color=\"primary\"\r\n              >\r\n                <ShoppingCartIcon htmlColor=\"white\" />\r\n              </Badge>\r\n            </IconButton>\r\n          </Tooltip>\r\n        )}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {})(CartButton);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setAuthenticated } from \"../../redux/actions\";\r\nimport {\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  AppBar,\r\n  Menu,\r\n  MenuItem,\r\n  Divider,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport SignInButton from \"./RedirectSignInButton\";\r\nimport AuthService from \"../../services/AuthService\";\r\nimport firebase from \"../../services/firebase.config\";\r\nimport { PRIMARY_THEME_COLOR } from \"../../constants/constants\";\r\nimport RedirectHomeButton from \"./RedirectHomeButton\";\r\nimport RedirectUserShopsButton from \"./RedirectUserShopsButton\";\r\nimport CartButton from \"./CartButton\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isAuthenticated: state.isAuthenticated };\r\n};\r\n\r\nclass TopBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      openDropdown: false,\r\n      anchorEl: null,\r\n      redirectToSignIn: false,\r\n    };\r\n\r\n    this.openMenu = this.openMenu.bind(this);\r\n    this.closeMenu = this.closeMenu.bind(this);\r\n    this.signOut = this.signOut.bind(this);\r\n    this.getMenu = this.getMenu.bind(this);\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  async signOut() {\r\n    await AuthService.signOut();\r\n  }\r\n\r\n  openMenu(event) {\r\n    this.setState({ openDropdown: true, anchorEl: event.currentTarget });\r\n  }\r\n\r\n  closeMenu() {\r\n    this.setState({ openDropdown: false });\r\n  }\r\n\r\n  getMenu() {\r\n    return (\r\n      <Menu\r\n        keepMounted\r\n        open={this.state.openDropdown}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n        anchorEl={this.state.anchorEl}\r\n        onClose={this.closeMenu}\r\n        variant=\"menu\"\r\n      >\r\n        <div\r\n          style={{\r\n            marginTop: \"16px\",\r\n            marginBottom: \"16px\",\r\n            paddingLeft: \"20px\",\r\n            paddingRight: \"20px\",\r\n          }}\r\n        >\r\n          <Typography variant=\"subtitle1\" style={{ flexGrow: 1 }}>\r\n            {firebase.auth().currentUser\r\n              ? firebase.auth().currentUser.displayName\r\n              : \"\"}\r\n          </Typography>\r\n          <Typography variant=\"subtitle2\" style={{ flexGrow: 1 }}>\r\n            {firebase.auth().currentUser\r\n              ? firebase.auth().currentUser.email\r\n              : \"\"}\r\n          </Typography>\r\n        </div>\r\n\r\n        <Divider />\r\n        <MenuItem onClick={this.closeMenu}>\r\n          <ListItemIcon>\r\n            <HomeIcon style={{ color: PRIMARY_THEME_COLOR }} />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Home\" />\r\n        </MenuItem>\r\n\r\n        <MenuItem onClick={this.closeMenu}>\r\n          <ListItemIcon>\r\n            <PersonIcon style={{ color: PRIMARY_THEME_COLOR }} />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Profile\" />\r\n        </MenuItem>\r\n\r\n        <Button\r\n          variant=\"outlined\"\r\n          style={{\r\n            marginRight: \"5%\",\r\n            marginTop: \"2%\",\r\n            marginLeft: \"5%\",\r\n            borderRadius: \"12px\",\r\n            width: \"90%\",\r\n            color: \"white\",\r\n            backgroundColor: PRIMARY_THEME_COLOR,\r\n          }}\r\n          onClick={this.signOut}\r\n        >\r\n          Sign Out\r\n        </Button>\r\n      </Menu>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ flexGrow: 1 }}>\r\n        <AppBar\r\n          position=\"static\"\r\n          style={{ background: \"rgba(21, 67, 96, 0.5)\" }}\r\n        >\r\n          <Toolbar>\r\n            <RedirectHomeButton />\r\n            {this.props.isAuthenticated && <RedirectUserShopsButton />}\r\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}></Typography>\r\n            {!this.props.inCart && <CartButton />}\r\n            {this.props.isAuthenticated && (\r\n              <IconButton edge=\"end\" color=\"inherit\" onClick={this.openMenu}>\r\n                <AccountCircle fontSize=\"large\" />\r\n              </IconButton>\r\n            )}\r\n            {!this.props.isAuthenticated ? <SignInButton /> : this.getMenu()}\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { setAuthenticated })(TopBar);\r\n","import React from \"react\";\r\nimport { Grid, Chip } from \"@material-ui/core\";\r\n\r\nclass DisplayShopTags extends React.Component {\r\n  render() {\r\n    return (\r\n      <Grid container justify=\"center\" spacing={1} style={{ flexGrow: 1 }}>\r\n        {this.props.tags && this.props.tags.length !== 0 ? (\r\n          this.props.tags.map((tag) => (\r\n            <Grid item key={tag}>\r\n              <Chip\r\n                label={tag}\r\n                size=\"small\"\r\n                style={{\r\n                  background:\r\n                    \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\r\n                  color: \"black\",\r\n                }}\r\n              />\r\n            </Grid>\r\n          ))\r\n        ) : (\r\n          <Grid item>\r\n            <Chip\r\n              label=\"no tags\"\r\n              size=\"small\"\r\n              style={{\r\n                background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\r\n                color: \"black\",\r\n                visibility: \"hidden\",\r\n              }}\r\n            />\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DisplayShopTags;\r\n","import axios from \"axios\";\r\nimport {\r\n  deleteShop,\r\n  setShops,\r\n  setProducts,\r\n  updateProduct,\r\n  deleteProduct,\r\n  updateShop,\r\n  addProduct,\r\n  createShop,\r\n  updateCart,\r\n} from \"../redux/actions\";\r\nimport store from \"../redux/store\";\r\n\r\nvar endpoint =\r\n  process.env.NODE_ENV === \"development\"\r\n    ? \"http://localhost:8080/\"\r\n    : \"https://minishopifyapp.herokuapp.com/\";\r\n\r\n// Public end points\r\nconst GET_ALL_SHOPS_URL = endpoint + \"api/shop/getShops\";\r\nconst GET_SHOP_BY_ID_URL = endpoint + \"api/getShopById\";\r\nconst GET_SHOP_PRODUCTS = endpoint + \"api/shop/getProducts\";\r\n\r\n// Protected end points\r\nconst CREATE_SHOP_URL = endpoint + \"api/shop/protected/createShop\";\r\nconst DELETE_SHOP_URL = endpoint + \"api/shop/protected/deleteShop\";\r\nconst UPDATE_SHOP_URL = endpoint + \"api/shop/protected/updateShop\";\r\n\r\nconst UPDATE_PRODUCT_URL = endpoint + \"api/shop/protected/updateProduct\";\r\nconst DELETE_PRODUCT_URL = endpoint + \"api/shop/protected/deleteProduct\";\r\nconst ADD_PRODUCT_URL = endpoint + \"api/shop/protected/addProduct\";\r\n\r\nconst CHECKOUT_CART_PRODUCTS_URL = endpoint + \"api/cart/checkout\";\r\n\r\nclass ShopService {\r\n  getHeaders() {\r\n    const config = {\r\n      headers: {\r\n        \"X-Firebase-Auth\": store.getState().idToken,\r\n      },\r\n    };\r\n    return config;\r\n  }\r\n\r\n  async createShop(createdShop) {\r\n    var config = this.getHeaders();\r\n\r\n    return axios\r\n      .post(CREATE_SHOP_URL, createdShop, config)\r\n      .then((res) => {\r\n        if (res.data !== null && res.data !== \"\") {\r\n          store.dispatch(createShop(res.data));\r\n          return true;\r\n        }\r\n        return false;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        return false;\r\n      });\r\n  }\r\n\r\n  async checkoutCartProducts(checkoutProductsList) {\r\n    var config = this.getHeaders();\r\n\r\n    return axios\r\n      .post(CHECKOUT_CART_PRODUCTS_URL, checkoutProductsList, config)\r\n      .then((res) => {\r\n        if (res.data !== null && res.data !== \"\") {\r\n          store.dispatch(updateCart([]));\r\n          return true;\r\n        }\r\n        return false;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        return false;\r\n      });\r\n  }\r\n\r\n  async getAllShops() {\r\n    return axios\r\n      .get(GET_ALL_SHOPS_URL)\r\n      .then((res) => {\r\n        store.dispatch(setShops(res.data));\r\n        return res.data;\r\n      })\r\n      .catch((error) => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n  async getShopProducts(shopID) {\r\n    const url = GET_SHOP_PRODUCTS + \"/\" + shopID;\r\n    return axios\r\n      .get(url)\r\n      .then((res) => {\r\n        store.dispatch(setProducts(res.data));\r\n        return res.data;\r\n      })\r\n      .catch((error) => {\r\n        return null;\r\n      });\r\n  }\r\n\r\n  async deleteShop(shopID) {\r\n    var config = this.getHeaders();\r\n\r\n    return axios\r\n      .post(DELETE_SHOP_URL, shopID, config)\r\n      .then((res) => {\r\n        if (res.data) {\r\n          store.dispatch(deleteShop(shopID));\r\n          return true;\r\n        }\r\n        return false;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        return false;\r\n      });\r\n  }\r\n\r\n  async deleteProduct(productID) {\r\n    var config = this.getHeaders();\r\n\r\n    return axios\r\n      .post(DELETE_PRODUCT_URL, productID, config)\r\n      .then((res) => {\r\n        if (res.data) {\r\n          store.dispatch(deleteProduct(productID));\r\n          return true;\r\n        }\r\n        return false;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        return false;\r\n      });\r\n  }\r\n\r\n  async updateShop(updatedShop) {\r\n    var config = this.getHeaders();\r\n\r\n    return axios\r\n      .post(UPDATE_SHOP_URL, updatedShop, config)\r\n      .then((res) => {\r\n        if (res.data !== null) {\r\n          store.dispatch(updateShop(updatedShop));\r\n          return true;\r\n        }\r\n        return false;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        return false;\r\n      });\r\n  }\r\n\r\n  async updateProduct(updatedProduct) {\r\n    var config = this.getHeaders();\r\n\r\n    return axios\r\n      .post(UPDATE_PRODUCT_URL, updatedProduct, config)\r\n      .then((res) => {\r\n        if (res.data !== null && res.data !== \"\") {\r\n          store.dispatch(updateProduct(updatedProduct));\r\n          return true;\r\n        }\r\n        return false;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        return false;\r\n      });\r\n  }\r\n\r\n  async addNewProduct(productAdded) {\r\n    var config = this.getHeaders();\r\n\r\n    return axios\r\n      .post(ADD_PRODUCT_URL, productAdded, config)\r\n      .then((res) => {\r\n        if (res.data !== null && res.data !== \"\") {\r\n          store.dispatch(addProduct(productAdded));\r\n          return true;\r\n        }\r\n        return false;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        return false;\r\n      });\r\n  }\r\n\r\n  getShopById() {\r\n    return axios.get(GET_SHOP_BY_ID_URL);\r\n  }\r\n}\r\n\r\nexport default new ShopService();\r\n","import React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  TextField,\r\n  Chip,\r\n  InputAdornment,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport Shop from \"./Shop\";\r\nimport { PRIMARY_THEME_COLOR } from \"../../constants/constants\";\r\nimport ShopService from \"../../services/ShopService\";\r\n\r\nclass EditShop extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // shopData: this.props.selectedShop,\r\n      shopData: null,\r\n      ownerEmail: \"\",\r\n      shopID: \"\",\r\n      name: \"\",\r\n      description: \"\",\r\n      picture: \"\",\r\n      tag: \"\",\r\n      tags: [],\r\n    };\r\n    this.getShopData = this.getShopData.bind(this);\r\n    this.deleteAllTags = this.deleteAllTags.bind(this);\r\n    this.updateShop = this.updateShop.bind(this);\r\n    this.deleteShop = this.deleteShop.bind(this);\r\n    this.discardChanges = this.discardChanges.bind(this);\r\n    this.addTag = this.addTag.bind(this);\r\n    this.mounted = true;\r\n  }\r\n\r\n  discardChanges() {\r\n    this.setState({\r\n      name: this.props.selectedShop.name,\r\n      description: this.props.selectedShop.description,\r\n      picture: this.props.selectedShop.picture,\r\n      tags: this.props.selectedShop.tags,\r\n    });\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return this.mounted;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      shopData: this.props.selectedShop,\r\n      ownerEmail: this.props.selectedShop.ownerEmail,\r\n      shopID: this.props.selectedShop.shopID,\r\n      name: this.props.selectedShop.name,\r\n      description: this.props.selectedShop.description,\r\n      picture: this.props.selectedShop.picture,\r\n      tags: this.props.selectedShop.tags,\r\n    });\r\n  }\r\n\r\n  addTag() {\r\n    if (this.state.tag !== \"\") {\r\n      const tags = this.state.tags;\r\n      tags.push(this.state.tag);\r\n      this.setState({ tags: tags, tag: \"\" });\r\n    }\r\n  }\r\n\r\n  deleteAllTags() {\r\n    this.setState({ tags: [] });\r\n  }\r\n\r\n  getShopData() {\r\n    const shopObj = {\r\n      shopID: this.state.shopID,\r\n      ownerEmail: this.state.ownerEmail,\r\n      name: this.state.name,\r\n      description: this.state.description,\r\n      picture: this.state.picture,\r\n      tags: this.state.tags,\r\n    };\r\n\r\n    return shopObj;\r\n  }\r\n\r\n  async updateShop() {\r\n    const success = await ShopService.updateShop(this.getShopData());\r\n    if (success) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  async deleteShop() {\r\n    const success = await ShopService.deleteShop(this.state.shopID);\r\n    if (success) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth=\"md\"\r\n        open={this.props.selectedShop !== null}\r\n        onClose={this.props.onClose}\r\n      >\r\n        <DialogTitle>Edit Shop Menu</DialogTitle>\r\n        {console.log(this.state.shopID)}\r\n        {console.log(this.state.name)}\r\n        {console.log(this.state.ownerEmail)}\r\n        <DialogContent>\r\n          <Alert severity=\"error\">\r\n            Deleting a shop will delete all the products it contains.\r\n          </Alert>\r\n        </DialogContent>\r\n\r\n        <DialogContent style={{ display: \"flex\" }}>\r\n          <div\r\n            style={{\r\n              flex: \"0 0 330px\",\r\n              alignSelf: \"center\",\r\n            }}\r\n          >\r\n            <Shop\r\n              canEditShop={false}\r\n              canOpen={false}\r\n              shop={this.getShopData()}\r\n            />\r\n          </div>\r\n\r\n          <div style={{ flex: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Name\"\r\n              value={this.state.name}\r\n              onChange={(event) => {\r\n                this.setState({ name: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Description\"\r\n              rowsMax={4}\r\n              multiline\r\n              value={this.state.description}\r\n              onChange={(event) => {\r\n                this.setState({ description: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              fullWidth\r\n              label=\"Add Tags\"\r\n              value={this.state.tag}\r\n              onChange={(event) => {\r\n                this.setState({ tag: event.target.value });\r\n              }}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton onClick={this.addTag}>\r\n                      <AddCircleIcon htmlColor=\"#00ab55\" />\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            <Button\r\n              color=\"secondary\"\r\n              style={{ float: \"right\" }}\r\n              onClick={this.deleteAllTags}\r\n            >\r\n              Delete All Tags\r\n            </Button>\r\n\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Picture URL\"\r\n              value={this.state.picture}\r\n              onChange={(event) => {\r\n                this.setState({ picture: event.target.value });\r\n              }}\r\n            />\r\n          </div>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Chip\r\n            label=\"Update Shop\"\r\n            onClick={this.updateShop}\r\n            style={{ background: PRIMARY_THEME_COLOR, color: \"white\" }}\r\n          />\r\n          <Chip\r\n            label=\"Discard Changes\"\r\n            onClick={this.discardChanges}\r\n            style={{ background: \"#ff9800\", color: \"white\" }}\r\n          />\r\n          <Chip\r\n            label=\"Delete Shop\"\r\n            onClick={this.deleteShop}\r\n            color=\"secondary\"\r\n          />\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditShop;\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  IconButton,\r\n  Tooltip,\r\n  CardActionArea,\r\n  Typography,\r\n  Divider,\r\n  CardMedia,\r\n  CardContent,\r\n  Zoom,\r\n  Snackbar,\r\n} from \"@material-ui/core\";\r\nimport StorefrontIcon from \"@material-ui/icons/Storefront\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport DisplayShopTags from \"./DisplayShopTags\";\r\nimport ShopService from \"../../services/ShopService\";\r\nimport EditShop from \"./EditShop\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { EMPTY_SHOP_IMG_URL } from \"../../constants/constants\";\r\n\r\nclass Shop extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      openDropdown: false,\r\n      anchorEl: null,\r\n      openDialog: false,\r\n      openSnackBar: false,\r\n      currentShop: null,\r\n      openEditShop: false,\r\n    };\r\n\r\n    this.deleteShop = this.deleteShop.bind(this);\r\n    this.closeSnackBar = this.closeSnackBar.bind(this);\r\n    this.closeEditShop = this.closeEditShop.bind(this);\r\n    this.openShop = this.openShop.bind(this);\r\n    this.openEditShop = this.openEditShop.bind(this);\r\n    this.getShopImg = this.getShopImg.bind(this);\r\n  }\r\n\r\n  openShop(shop) {\r\n    if (this.props.canOpen) {\r\n      this.props.history.push(\"/shop/\" + shop.shopID);\r\n    }\r\n  }\r\n\r\n  openEditShop(shop) {\r\n    this.setState({ currentShop: shop });\r\n  }\r\n\r\n  closeEditShop() {\r\n    this.setState({ currentShop: null });\r\n  }\r\n\r\n  closeSnackBar() {\r\n    this.setState({ openSnackBar: false });\r\n  }\r\n\r\n  async deleteShop() {\r\n    if (this.state.currentShop) {\r\n      await ShopService.deleteShop(this.state.currentShop.shopID);\r\n      this.setState({ openDialog: false, openSnackBar: true });\r\n    }\r\n  }\r\n\r\n  renderSnackBar() {\r\n    return (\r\n      <Snackbar\r\n        open={this.state.openSnackBar}\r\n        autoHideDuration={6000}\r\n        onClose={this.closeSnackBar}\r\n      >\r\n        <Alert onClose={this.closeSnackBar} severity=\"success\">\r\n          Shop successfully deleted!\r\n        </Alert>\r\n      </Snackbar>\r\n    );\r\n  }\r\n\r\n  getShopImg() {\r\n    if (this.props.shop) {\r\n      if (this.props.shop.picture === \"\") {\r\n        return EMPTY_SHOP_IMG_URL;\r\n      }\r\n      return this.props.shop.picture;\r\n    }\r\n    return EMPTY_SHOP_IMG_URL;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderSnackBar()}\r\n        {this.props.canEdit && this.state.currentShop && (\r\n          <EditShop\r\n            selectedShop={this.state.currentShop}\r\n            onClose={() => this.closeEditShop()}\r\n          />\r\n        )}\r\n\r\n        <Card\r\n          style={{\r\n            minWidth: \"300px\",\r\n            maxWidth: \"300px\",\r\n            minHeight: \"300px\",\r\n            boxShadow:\r\n              \"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px\",\r\n            borderRadius: \"16px\",\r\n          }}\r\n        >\r\n          <CardHeader\r\n            avatar={<StorefrontIcon color=\"primary\" />}\r\n            title={this.props.shop && this.props.shop.name}\r\n            action={\r\n              this.props.canEdit && (\r\n                <Tooltip TransitionComponent={Zoom} title=\"Edit Shop\">\r\n                  <IconButton\r\n                    onClick={() => this.openEditShop(this.props.shop)}\r\n                  >\r\n                    <MoreVertIcon color=\"secondary\" />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )\r\n            }\r\n          />\r\n          <CardActionArea onClick={() => this.openShop(this.props.shop)}>\r\n            <CardMedia\r\n              style={{ height: 0, paddingTop: \"56.25%\" }}\r\n              image={this.getShopImg()}\r\n            />\r\n            <CardContent>\r\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                {this.props.shop && this.props.shop.description}\r\n              </Typography>\r\n              <Divider style={{ margin: \"10px\" }}></Divider>\r\n              <DisplayShopTags tags={this.props.shop && this.props.shop.tags} />\r\n            </CardContent>\r\n          </CardActionArea>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Shop);\r\n","import React from \"react\";\r\nimport { Grid, Select, TextField, Typography } from \"@material-ui/core\";\r\nimport Shop from \"./Shop\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nclass DisplayShops extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      addingShop: false,\r\n      shops: [],\r\n      tags: [],\r\n      selectedTag: \"\",\r\n      searchValue: \"\",\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSelectChange = this.handleSelectChange.bind(this);\r\n    this.setShopAndShopTags = this.setShopAndShopTags.bind(this);\r\n    this.displayShops = this.displayShops.bind(this);\r\n    this.displaySearchBar = this.displaySearchBar.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.shops) {\r\n      this.setShopAndShopTags();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.shops !== this.props.shops) {\r\n      this.setShopAndShopTags();\r\n    }\r\n  }\r\n\r\n  setShopAndShopTags() {\r\n    var tagsList = new Set();\r\n    this.props.shops.forEach((shop) => {\r\n      shop.tags.forEach((tag) => {\r\n        tagsList.add(tag);\r\n      });\r\n    });\r\n    this.setState({ shops: this.props.shops, tags: Array.from(tagsList) });\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ selectedTag: \"\", searchValue: event.target.value });\r\n    if (event.target.value === \"\") {\r\n      this.setState({ shops: this.props.shops });\r\n    } else {\r\n      const searchedValue = event.target.value.toLowerCase();\r\n      const filteredData = this.props.shops.filter((shop) =>\r\n        shop.name.toLowerCase().includes(searchedValue)\r\n      );\r\n      this.setState({ shops: filteredData });\r\n    }\r\n  }\r\n\r\n  handleSelectChange(event) {\r\n    this.setState({ selectedTag: event.target.value, searchValue: \"\" });\r\n    if (event.target.value === \"\") {\r\n      this.setState({ shops: this.props.shops });\r\n    } else {\r\n      const filteredData = this.props.shops.filter((shop) =>\r\n        shop.tags.includes(event.target.value)\r\n      );\r\n      this.setState({ shops: filteredData });\r\n    }\r\n  }\r\n\r\n  displayShops() {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: \"99vw\",\r\n          height: this.props.canEdit ? \"70vh\" : \"77vh\",\r\n          overflowY: \"auto\",\r\n          overflowX: \"hidden\",\r\n        }}\r\n      >\r\n        <Grid container justify=\"center\" spacing={3}>\r\n          {this.state.shops &&\r\n            this.state.shops.map((shop) => (\r\n              <Grid item key={shop.shopID}>\r\n                <Shop canEdit={this.props.canEdit} canOpen={true} shop={shop} />\r\n              </Grid>\r\n            ))}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  displaySearchBar() {\r\n    return (\r\n      <div style={{ paddingTop: \"10px\", paddingBottom: \"40px\" }}>\r\n        <Grid container spacing={1} alignItems=\"flex-end\">\r\n          <Grid item>\r\n            <SearchIcon />\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField\r\n              value={this.state.searchValue}\r\n              label=\"Search\"\r\n              onChange={(event) => {\r\n                this.handleChange(event);\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item>\r\n            <Typography\r\n              variant=\"body1\"\r\n              style={{ paddingLeft: \"20px\", paddingBottom: \"5px\" }}\r\n            >\r\n              Filter Tags:\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <Select\r\n              value={this.state.selectedTag}\r\n              native\r\n              onChange={(event) => {\r\n                this.handleSelectChange(event);\r\n              }}\r\n            >\r\n              <option aria-label=\"Filter Shops\" value=\"\" />\r\n              {this.state.tags &&\r\n                this.state.tags.map((tag) => (\r\n                  <option key={tag} value={tag}>\r\n                    {tag}\r\n                  </option>\r\n                ))}\r\n            </Select>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n          <Grid item>\r\n            <Typography\r\n              variant=\"h5\"\r\n              style={{ paddingTop: \"20px\", fontFamily: \"cursive\" }}\r\n            >\r\n              {this.props.title}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item>{this.displaySearchBar()}</Grid>\r\n\r\n          <Grid item>{this.displayShops()}</Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DisplayShops;\r\n","import React from \"react\";\r\nimport DisplayShops from \"./DisplayShops\";\r\n\r\nclass BrowseShops extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <DisplayShops\r\n          shops={this.props.shops}\r\n          canEdit={this.props.canEdit}\r\n          title={this.props.title}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BrowseShops;\r\n","import React from \"react\";\r\nimport TopBar from \"./topBar/TopBar\";\r\nimport { connect } from \"react-redux\";\r\nimport { setShops } from \"../redux/actions\";\r\nimport BrowseShops from \"./shop/BrowseShops\";\r\nimport ShopService from \"../services/ShopService\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isAuthenticated: state.isAuthenticated, shops: state.shops };\r\n};\r\n\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n\r\n    this.getShops = this.getShops.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getShops();\r\n  }\r\n\r\n  async getShops() {\r\n    await ShopService.getAllShops();\r\n  }\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{\r\n          height: \"100vh\",\r\n        }}\r\n      >\r\n        <TopBar />\r\n        <BrowseShops\r\n          shops={this.props.shops}\r\n          canEdit={false}\r\n          title={\"Browse Shops\"}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { setShops })(Home);\r\n","import { Typography } from \"@material-ui/core\";\r\n\r\nconst EmptyCart = () => {\r\n  return (\r\n    <div>\r\n      <img\r\n        src=\"https://cdn.dribbble.com/users/44167/screenshots/4199208/empty-cart-rappi.png?compress=1&resize=400x300\"\r\n        alt=\"Empty Cart\"\r\n        style={{ width: \"50%\", height: \"50%\" }}\r\n      ></img>\r\n      <Typography\r\n        variant=\"body1\"\r\n        style={{ fontWeight: 600, paddingTop: \"10px\" }}\r\n      >\r\n        Cart is Empty\r\n      </Typography>\r\n      <Typography\r\n        variant=\"body2\"\r\n        style={{ fontWeight: 200, paddingTop: \"10px\" }}\r\n      >\r\n        Look like you have no items in your shopping cart.\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmptyCart;\r\n","import { Avatar, Grid, IconButton, Typography } from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport React from \"react\";\r\n\r\nclass CartItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedQuantity: 0,\r\n    };\r\n    this.updateQuantity = this.updateQuantity.bind(this);\r\n    this.removeProductFromCart = this.removeProductFromCart.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      selectedQuantity: this.props.cartProduct.selectedQuantity,\r\n    });\r\n  }\r\n\r\n  updateQuantity(number) {\r\n    if (\r\n      this.state.selectedQuantity + number > 0 &&\r\n      this.state.selectedQuantity + number <= this.props.cartProduct.quantity\r\n    ) {\r\n      const quantity = this.state.selectedQuantity;\r\n      this.props.updateQuantity(\r\n        this.props.cartProduct,\r\n        quantity + number,\r\n        number\r\n      );\r\n      this.setState({ selectedQuantity: quantity + number });\r\n    }\r\n  }\r\n\r\n  removeProductFromCart() {\r\n    this.props.removeProduct(this.props.cartProduct);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Grid\r\n        container\r\n        style={{\r\n          backgroundColor: \"#FAFAFA\",\r\n          width: \"100%\",\r\n          alignItems: \"center\",\r\n          paddingLeft: \"10px\",\r\n          paddingRight: \"10px\",\r\n          marginTop: \"10px\",\r\n        }}\r\n      >\r\n        <Grid\r\n          item\r\n          xs={5}\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-start\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Avatar src={this.props.cartProduct.picture} />\r\n          <Typography style={{ fontSize: \"12px\", paddingLeft: \"5px\" }}>\r\n            {this.props.cartProduct.name}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          xs={2}\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-start\",\r\n          }}\r\n        >\r\n          <Typography style={{ fontSize: \"12px\" }}>\r\n            ${this.props.cartProduct.cost}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Grid\r\n            container\r\n            direction=\"column\"\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid\r\n              item\r\n              xs={2}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                borderRadius: \"5px\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.updateQuantity(-1);\r\n                }}\r\n              >\r\n                <RemoveIcon fontSize=\"small\" />\r\n              </IconButton>\r\n              <Typography style={{ fontSize: \"12px\", width: \"10px\" }}>\r\n                {this.state.selectedQuantity}\r\n              </Typography>\r\n              <IconButton onClick={() => this.updateQuantity(1)}>\r\n                <AddIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </Grid>\r\n\r\n            <Grid item>\r\n              <Typography variant=\"body2\">\r\n                Available: {this.props.cartProduct.quantity}\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid\r\n          item\r\n          xs={2}\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            paddingLeft: \"7%\",\r\n          }}\r\n        >\r\n          <Typography style={{ fontSize: \"12px\" }}>\r\n            $\r\n            {(\r\n              this.state.selectedQuantity * this.props.cartProduct.cost\r\n            ).toFixed(2)}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          <IconButton onClick={this.removeProductFromCart}>\r\n            <DeleteIcon color=\"secondary\" />\r\n          </IconButton>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CartItem;\r\n","import {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  createMuiTheme,\r\n  Divider,\r\n  Grid,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { SHIPPING_COST, PRIMARY_THEME_COLOR } from \"../../constants/constants\";\r\n\r\nconst theme = createMuiTheme({\r\n  spacing: [0, 4, 8, 16, 32, 64],\r\n});\r\n\r\nclass Summary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.calculateTotal = this.calculateTotal.bind(this);\r\n  }\r\n\r\n  calculateTotal() {\r\n    var total = 0;\r\n    if (this.props.total !== 0) {\r\n      total = (this.props.total * 1.13 + SHIPPING_COST).toFixed(2);\r\n    }\r\n    return total;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Card\r\n          variant=\"outlined\"\r\n          style={{\r\n            minWidth: \"15vw\",\r\n            maxHeight: \"40vh\",\r\n            boxShadow:\r\n              \"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px\",\r\n            borderRadius: \"16px\",\r\n          }}\r\n        >\r\n          <CardContent>\r\n            <Grid container>\r\n              <Typography variant=\"h6\">Cart Summary</Typography>\r\n            </Grid>\r\n            <Grid container style={{ paddingTop: \"15px\" }}>\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                style={{ display: \"flex\", justifyContent: \"flex-start\" }}\r\n              >\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  style={{\r\n                    fontSize: \"15px\",\r\n                    fontWeight: \"lighter\",\r\n                    color: \"rgb(99, 115, 129)\",\r\n                  }}\r\n                >\r\n                  Sub Total\r\n                </Typography>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n              >\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  style={{ fontSize: \"15px\", fontWeight: \"bold\" }}\r\n                >\r\n                  $\r\n                  {this.props.total !== 0\r\n                    ? this.props.total.toFixed(2)\r\n                    : this.props.total}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container style={{ paddingTop: \"15px\" }}>\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                style={{ display: \"flex\", justifyContent: \"flex-start\" }}\r\n              >\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  style={{\r\n                    fontSize: \"15px\",\r\n                    fontWeight: \"lighter\",\r\n                    color: \"rgb(99, 115, 129)\",\r\n                  }}\r\n                >\r\n                  Tax\r\n                </Typography>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n              >\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  style={{ fontSize: \"15px\", fontWeight: \"bold\" }}\r\n                >\r\n                  13%\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid\r\n              container\r\n              style={{ paddingTop: \"15px\", paddingBottom: \"10px\" }}\r\n            >\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                style={{ display: \"flex\", justifyContent: \"flex-start\" }}\r\n              >\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  style={{\r\n                    fontSize: \"15px\",\r\n                    fontWeight: \"lighter\",\r\n                    color: \"rgb(99, 115, 129)\",\r\n                  }}\r\n                >\r\n                  Shipping\r\n                </Typography>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n              >\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  style={{ fontSize: \"15px\", fontWeight: \"bold\" }}\r\n                >\r\n                  {SHIPPING_COST}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Divider />\r\n            <Grid container style={{ paddingTop: \"15px\" }}>\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                style={{ display: \"flex\", justifyContent: \"flex-start\" }}\r\n              >\r\n                <Typography variant=\"body1\" style={{ fontSize: \"15px\" }}>\r\n                  Total\r\n                </Typography>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                style={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n              >\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  style={{ fontSize: \"15px\", fontWeight: \"bold\", color: \"red\" }}\r\n                >\r\n                  ${this.calculateTotal()}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n        </Card>\r\n        <Button\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          style={{\r\n            padding: \"10px\",\r\n            margin: theme.spacing(3, 0, 2),\r\n            backgroundColor: PRIMARY_THEME_COLOR,\r\n            borderRadius: \"12px\",\r\n          }}\r\n          onClick={this.props.checkoutProducts}\r\n        >\r\n          Checkout\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Summary;\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Snackbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport EmptyCart from \"./EmptyCart\";\r\nimport CartItem from \"./CartProduct\";\r\nimport Summary from \"./Summary\";\r\nimport { connect } from \"react-redux\";\r\nimport { updateCart } from \"../../redux/actions\";\r\nimport ShopService from \"../../services/ShopService\";\r\nimport TopBar from \"../topBar/TopBar\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { cartProducts: state.cartProducts };\r\n};\r\n\r\nclass Checkout extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      total: 0,\r\n      cartProducts: [],\r\n      success: false,\r\n      openNotification: false,\r\n    };\r\n\r\n    this.setTotal = this.setTotal.bind(this);\r\n    this.calculateTotal = this.calculateTotal.bind(this);\r\n    this.updateQuantity = this.updateQuantity.bind(this);\r\n    this.setLocalCartCopy = this.setLocalCartCopy.bind(this);\r\n    this.removeProduct = this.removeProduct.bind(this);\r\n    this.checkoutProducts = this.checkoutProducts.bind(this);\r\n    this.cart = this.cart.bind(this);\r\n    this.displayFilledCart = this.displayFilledCart.bind(this);\r\n    this.showNotificationPop = this.showNotificationPop.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.cartProducts.length !== prevProps.cartProducts.length) {\r\n      this.calculateTotal(this.props.cartProducts);\r\n      this.setLocalCartCopy(this.props.cartProducts);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.calculateTotal(this.props.cartProducts);\r\n    this.setLocalCartCopy(this.props.cartProducts);\r\n  }\r\n\r\n  setLocalCartCopy(cartProduct) {\r\n    this.setState({ cartProducts: cartProduct });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.updateCart(this.state.cartProducts);\r\n  }\r\n\r\n  calculateTotal(cartProducts) {\r\n    var total = 0;\r\n    cartProducts.forEach((item) => {\r\n      total += item.cost * item.selectedQuantity;\r\n    });\r\n    this.setState({ total: total });\r\n  }\r\n\r\n  removeProduct(product) {\r\n    const currentCartList = this.state.cartProducts;\r\n    const newCartList = currentCartList.filter(\r\n      (cartProduct) => cartProduct.productID !== product.productID\r\n    );\r\n    this.setState({ cartProducts: newCartList });\r\n    this.props.updateCart(newCartList);\r\n    this.calculateTotal(newCartList);\r\n  }\r\n\r\n  updateQuantity(product, selectedQuantity, number) {\r\n    const itemCost = product.cost;\r\n    const total = this.state.total;\r\n    this.setState({ total: total + itemCost * number });\r\n\r\n    const currentCartList = this.state.cartProducts;\r\n    currentCartList.forEach((item) => {\r\n      if (item.productID === product.productID) {\r\n        item.selectedQuantity = selectedQuantity;\r\n        return;\r\n      }\r\n    });\r\n\r\n    this.setState({ cartProducts: currentCartList });\r\n  }\r\n\r\n  setTotal(cost) {\r\n    this.setState({ total: cost });\r\n  }\r\n\r\n  async checkoutProducts() {\r\n    var checkoutProductsList = [];\r\n\r\n    this.state.cartProducts.forEach((item) => {\r\n      var obj = {\r\n        productID: item.productID,\r\n        quantity: item.selectedQuantity,\r\n      };\r\n      checkoutProductsList.push(obj);\r\n    });\r\n\r\n    const success = await ShopService.checkoutCartProducts(\r\n      checkoutProductsList\r\n    );\r\n    this.setState({ success: success, openNotification: true });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ openNotification: false });\r\n  }\r\n\r\n  showNotificationPop() {\r\n    return (\r\n      <Snackbar\r\n        open={this.state.openNotification}\r\n        autoHideDuration={6000}\r\n        onClose={this.handleClose}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      >\r\n        <Alert\r\n          onClose={this.handleClose}\r\n          severity={this.state.success ? \"success\" : \"error\"}\r\n          variant=\"filled\"\r\n        >\r\n          {this.state.success\r\n            ? \"Products Successfully Purchased!\"\r\n            : \"Unable to purchase the products. Please try again later.\"}\r\n        </Alert>\r\n      </Snackbar>\r\n    );\r\n  }\r\n\r\n  displayFilledCart() {\r\n    return (\r\n      <div style={{ height: \"50vh\" }}>\r\n        <Grid\r\n          container\r\n          style={{\r\n            backgroundColor: \"#EEF1F1\",\r\n            height: \"40px\",\r\n            width: \"100%\",\r\n            borderRadius: \"5px\",\r\n            alignItems: \"center\",\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            marginTop: \"10px\",\r\n          }}\r\n        >\r\n          <Grid\r\n            item\r\n            xs={5}\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"flex-start\",\r\n            }}\r\n          >\r\n            <Typography style={{ fontSize: \"12px\" }}>Products</Typography>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={2}\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"flex-start\",\r\n            }}\r\n          >\r\n            <Typography style={{ fontSize: \"12px\" }}>Price</Typography>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={2}\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"flex-start\",\r\n            }}\r\n          >\r\n            <Typography style={{ fontSize: \"12px\", paddingLeft: \"18%\" }}>\r\n              Quantity\r\n            </Typography>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={2}\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <Typography style={{ fontSize: \"12px\" }}>Total</Typography>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <div style={{ overflowY: \"auto\", height: \"48vh\" }}>\r\n          {this.state.cartProducts.map((cartProduct) => {\r\n            return (\r\n              <CartItem\r\n                key={cartProduct.productID}\r\n                cartProduct={cartProduct}\r\n                removeProduct={this.removeProduct}\r\n                total={this.state.total}\r\n                setTotal={this.setTotal}\r\n                updateQuantity={this.updateQuantity}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  cart() {\r\n    return (\r\n      <Grid>\r\n        <Card\r\n          variant=\"outlined\"\r\n          style={{\r\n            width: \"40vw\",\r\n            minHeight: \"50vh\",\r\n            boxShadow:\r\n              \"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px\",\r\n            borderRadius: \"16px\",\r\n          }}\r\n        >\r\n          <CardContent>\r\n            <Grid container spacing={1}>\r\n              <Grid item>\r\n                <Typography\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"flex-start\",\r\n                  }}\r\n                  variant=\"h6\"\r\n                >\r\n                  Cart\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"flex-start\",\r\n                    color: \"rgb(99, 115, 129)\",\r\n                  }}\r\n                  variant=\"h6\"\r\n                >\r\n                  {`(${this.state.cartProducts.length} Products)`}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {this.state.cartProducts.length === 0 ? (\r\n              <EmptyCart />\r\n            ) : (\r\n              this.displayFilledCart()\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  summary() {}\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ height: \"100vh\", overflow: \"hidden\" }}>\r\n        <TopBar inCart={true} />\r\n        {this.showNotificationPop()}\r\n        <div style={{ height: \"50vh\", paddingTop: \"5%\" }}>\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justify=\"center\"\r\n            alignItems=\"flex-start\"\r\n            spacing={2}\r\n          >\r\n            <Grid item>{this.cart()}</Grid>\r\n            <Grid item>\r\n              <Summary\r\n                cartProducts={this.props.cartProducts}\r\n                total={this.state.total}\r\n                checkoutProducts={this.checkoutProducts}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { updateCart })(Checkout);\r\n","import React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Typography,\r\n  Grid,\r\n  Chip,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport Product from \"./Product\";\r\nimport { PRIMARY_THEME_COLOR } from \"../../constants/constants\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport ShopService from \"../../services/ShopService\";\r\n\r\nclass EditProduct extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      productData: null,\r\n      productID: \"\",\r\n      shopID: \"\",\r\n      name: \"\",\r\n      description: \"\",\r\n      picture: \"\",\r\n      cost: 0,\r\n      quantity: 0,\r\n    };\r\n    this.getProductData = this.getProductData.bind(this);\r\n    this.updateProduct = this.updateProduct.bind(this);\r\n    this.deleteProduct = this.deleteProduct.bind(this);\r\n    this.discardChanges = this.discardChanges.bind(this);\r\n    this.mounted = true;\r\n  }\r\n\r\n  discardChanges() {\r\n    this.setState({\r\n      name: this.props.selectedProduct.name,\r\n      description: this.props.selectedProduct.description,\r\n      picture: this.props.selectedProduct.picture,\r\n      cost: this.props.selectedProduct.cost,\r\n      quantity: this.props.selectedProduct.quantity,\r\n    });\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return this.mounted;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      productData: this.props.selectedProduct,\r\n      productID: this.props.selectedProduct.productID,\r\n      shopID: this.props.selectedProduct.shopID,\r\n      name: this.props.selectedProduct.name,\r\n      description: this.props.selectedProduct.description,\r\n      picture: this.props.selectedProduct.picture,\r\n      cost: this.props.selectedProduct.cost,\r\n      quantity: this.props.selectedProduct.quantity,\r\n    });\r\n  }\r\n\r\n  getProductData() {\r\n    const productObj = {\r\n      shopID: this.state.shopID,\r\n      productID: this.state.productID,\r\n      name: this.state.name,\r\n      description: this.state.description,\r\n      picture: this.state.picture,\r\n      cost: this.state.cost,\r\n      quantity: this.state.quantity,\r\n    };\r\n\r\n    return productObj;\r\n  }\r\n\r\n  async updateProduct() {\r\n    const success = await ShopService.updateProduct(this.getProductData());\r\n    if (success) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  async deleteProduct() {\r\n    const success = await ShopService.deleteProduct(this.state.productID);\r\n    if (success) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth=\"md\"\r\n        open={this.props.selectedProduct !== null}\r\n        onClose={this.props.onClose}\r\n      >\r\n        <DialogTitle>Edit Product Menu</DialogTitle>\r\n        <DialogContent style={{ display: \"flex\" }}>\r\n          <div\r\n            style={{\r\n              flex: \"0 0 330px\",\r\n              alignSelf: \"center\",\r\n            }}\r\n          >\r\n            <Product\r\n              canEditProduct={false}\r\n              canOpen = {false}\r\n              canBuy={false}\r\n              product={this.getProductData()}\r\n            />\r\n          </div>\r\n\r\n          <div style={{ flex: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Name\"\r\n              value={this.state.name}\r\n              onChange={(event) => {\r\n                this.setState({ name: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Description\"\r\n              rowsMax={4}\r\n              multiline\r\n              value={this.state.description}\r\n              onChange={(event) => {\r\n                this.setState({ description: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Picture URL\"\r\n              value={this.state.picture}\r\n              onChange={(event) => {\r\n                this.setState({ picture: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <Typography\r\n              style={{\r\n                fontSize: \"14px\",\r\n                margin: \"5px\",\r\n                color: \"#184800\",\r\n              }}\r\n            >\r\n              Update Cost\r\n            </Typography>\r\n\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                borderRadius: \"15px\",\r\n                backgroundColor: \"#CFFFB7\",\r\n                height: \"40px\",\r\n                alignItems: \"center\",\r\n                marginBottom: \"10px\",\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.state.cost < 1 &&\r\n                    this.setState({ cost: this.state.cost - 1 });\r\n                }}\r\n              >\r\n                <RemoveIcon fontSize=\"small\" />\r\n              </IconButton>\r\n              <input\r\n                type=\"number\"\r\n                value={this.state.cost}\r\n                style={{\r\n                  backgroundColor: \"inherit\",\r\n                  border: \"none\",\r\n                  width: \"100%\",\r\n                  height: \"75%\",\r\n                  textAlign: \"center\",\r\n                }}\r\n                onChange={(event) => {\r\n                  event.target.value > 0 &&\r\n                    this.setState({ cost: Number(event.target.value) });\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.setState({ cost: this.state.cost + 1 });\r\n                }}\r\n              >\r\n                <AddIcon fontSize=\"small\"></AddIcon>\r\n              </IconButton>\r\n            </Grid>\r\n\r\n            <Typography\r\n              style={{\r\n                fontSize: \"14px\",\r\n                margin: \"5px\",\r\n                color: \"#184800\",\r\n              }}\r\n            >\r\n              Update Quantity\r\n            </Typography>\r\n\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                borderRadius: \"15px\",\r\n                backgroundColor: \"#CFFFB7\",\r\n                height: \"40px\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.state.quantity > 0 &&\r\n                    this.setState({ quantity: this.state.quantity - 1 });\r\n                }}\r\n              >\r\n                <RemoveIcon fontSize=\"small\" />\r\n              </IconButton>\r\n              <input\r\n                type=\"number\"\r\n                value={this.state.quantity}\r\n                style={{\r\n                  backgroundColor: \"inherit\",\r\n                  border: \"none\",\r\n                  width: \"100%\",\r\n                  height: \"75%\",\r\n                  textAlign: \"center\",\r\n                }}\r\n                onChange={(event) => {\r\n                  event.target.value >= 0 &&\r\n                    this.setState({ quantity: Number(event.target.value) });\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.setState({ quantity: this.state.quantity + 1 });\r\n                }}\r\n              >\r\n                <AddIcon fontSize=\"small\"></AddIcon>\r\n              </IconButton>\r\n            </Grid>\r\n          </div>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Chip\r\n            label=\"Update Product\"\r\n            onClick={this.updateProduct}\r\n            style={{ background: PRIMARY_THEME_COLOR, color: \"white\" }}\r\n          />\r\n          <Chip\r\n            label=\"Discard Changes\"\r\n            onClick={this.discardChanges}\r\n            style={{ background: \"#ff9800\", color: \"white\" }}\r\n          />\r\n          <Chip\r\n            label=\"Delete Product\"\r\n            onClick={this.deleteProduct}\r\n            color=\"secondary\"\r\n          />\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditProduct;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n  CardMedia,\r\n  CardContent,\r\n  Divider,\r\n  Zoom,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\nimport StorefrontIcon from \"@material-ui/icons/Storefront\";\r\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport EditProduct from \"./EditProduct\";\r\nimport { EMPTY_PRODUCT_IMG_URL } from \"../../constants/constants\";\r\nimport ShopService from \"../../services/ShopService\";\r\nimport { addProductToCart } from \"../../redux/actions\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { products: state.products };\r\n};\r\n\r\nclass Product extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      shopID: this.props.match ? this.props.match.params.shopID : \"\",\r\n      myShop: null,\r\n      currentProduct: null,\r\n    };\r\n\r\n    this.openEditProduct = this.openEditProduct.bind(this);\r\n    this.closeEditProduct = this.closeEditProduct.bind(this);\r\n    this.getProductImg = this.getProductImg.bind(this);\r\n    this.addToCart = this.addToCart.bind(this);\r\n  }\r\n\r\n  openEditProduct(product) {\r\n    this.setState({ currentProduct: product });\r\n  }\r\n\r\n  closeEditProduct() {\r\n    this.setState({ currentProduct: null });\r\n  }\r\n\r\n  addToCart() {\r\n    const obj = this.props.product;\r\n    obj.selectedQuantity = 1;\r\n    this.props.addProductToCart(obj);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, nextState) {}\r\n\r\n  getProductImg() {\r\n    if (this.props.product) {\r\n      if (this.props.product.picture === \"\") {\r\n        return EMPTY_PRODUCT_IMG_URL;\r\n      }\r\n      return this.props.product.picture;\r\n    }\r\n    return EMPTY_PRODUCT_IMG_URL;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.canEditProduct && this.state.currentProduct && (\r\n          <EditProduct\r\n            selectedProduct={this.state.currentProduct}\r\n            onClose={() => this.closeEditProduct()}\r\n          />\r\n        )}\r\n        <Card\r\n          style={{\r\n            width: \"300px\",\r\n            minHeight: \"457px\",\r\n            boxShadow:\r\n              \"rgb(145 158 171 / 24%) 0px 0px 2px 0px, rgb(145 158 171 / 24%) 0px 16px 32px -4px\",\r\n            borderRadius: \"16px\",\r\n          }}\r\n        >\r\n          <CardHeader\r\n            avatar={<StorefrontIcon color=\"primary\" />}\r\n            title={this.props.product && this.props.product.name}\r\n            action={\r\n              this.props.canEditProduct && (\r\n                <Tooltip TransitionComponent={Zoom} title=\"Edit Product\">\r\n                  <IconButton\r\n                    onClick={() => this.openEditProduct(this.props.product)}\r\n                  >\r\n                    <MoreVertIcon color=\"secondary\" />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )\r\n            }\r\n          />\r\n          <CardMedia\r\n            style={{ height: 0, paddingTop: \"56.25%\" }}\r\n            image={this.getProductImg()}\r\n          />\r\n          <CardContent>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n              {this.props.product && this.props.product.description}\r\n            </Typography>\r\n            <Divider style={{ margin: \"10px\" }}></Divider>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n              Cost: ${this.props.product && this.props.product.cost}\r\n            </Typography>\r\n            <Divider style={{ margin: \"10px\" }}></Divider>\r\n            <Typography\r\n              style={{ marginBottom: \"15px\" }}\r\n              variant=\"body2\"\r\n              color=\"textSecondary\"\r\n              component=\"p\"\r\n            >\r\n              Quantity: {this.props.product && this.props.product.quantity}\r\n            </Typography>\r\n            {this.state.currentProduct === null && this.props.canBuy && (\r\n              <IconButton onClick={this.addToCart}>\r\n                <AddShoppingCartIcon\r\n                  style={{\r\n                    color: \"#43C701\",\r\n                    margin: \"5px\",\r\n                  }}\r\n                />\r\n              </IconButton>\r\n            )}\r\n            {!this.props.canBuy && this.props.canOpen && (\r\n              <Chip label=\"OUT OF STOCK\" color=\"secondary\" />\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { addProductToCart })(Product);\r\n","import React from \"react\";\r\nimport { Grid, TextField } from \"@material-ui/core\";\r\nimport Product from \"./Product\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nclass DisplayProducts extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchValue: \"\",\r\n      products: [],\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.displayProducts = this.displayProducts.bind(this);\r\n    this.displaySearchBar = this.displaySearchBar.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ products: this.props.products });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.products !== prevProps.products) {\r\n      this.setState({ products: this.props.products });\r\n    }\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ searchValue: event.target.value });\r\n    if (event.target.value === \"\") {\r\n      this.setState({ products: this.props.products });\r\n    } else {\r\n      const searchedValue = event.target.value.toLowerCase();\r\n      const filteredData = this.props.products.filter((product) =>\r\n        product.name.toLowerCase().includes(searchedValue)\r\n      );\r\n      this.setState({ products: filteredData });\r\n    }\r\n  }\r\n\r\n  displayProducts() {\r\n    return (\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n        spacing={3}\r\n        style={{\r\n          paddingTop: \"2%\",\r\n        }}\r\n      >\r\n        {this.state.products &&\r\n          this.state.products.map((product) => (\r\n            <Grid item key={product.productID}>\r\n              <Product\r\n                canBuy={product.quantity > 0 ? true : false}\r\n                canOpen={true}\r\n                canEditProduct={this.props.isUserShop}\r\n                product={product}\r\n              />\r\n            </Grid>\r\n          ))}\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  displaySearchBar() {\r\n    return (\r\n      <div style={{ paddingTop: \"20px\", paddingBottom: \"30px\" }}>\r\n        <Grid container spacing={1} alignItems=\"flex-end\">\r\n          <Grid item>\r\n            <SearchIcon />\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField\r\n              label=\"Search\"\r\n              value={this.state.searchValue}\r\n              onChange={(event) => {\r\n                this.handleChange(event);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: \"99vw\",\r\n          height: this.props.isUserShop ? \"80vh\" : \"77vh\",\r\n          overflowY: \"auto\",\r\n          overflowX: \"hidden\",\r\n        }}\r\n      >\r\n        <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n          <Grid item>{this.displaySearchBar()}</Grid>\r\n\r\n          <Grid item>{this.displayProducts()}</Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DisplayProducts;\r\n","import React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Typography,\r\n  Grid,\r\n  Chip,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport Product from \"./Product\";\r\nimport { PRIMARY_THEME_COLOR } from \"../../constants/constants\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport ShopService from \"../../services/ShopService\";\r\n\r\nclass AddProduct extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      shopID: props.shopID,\r\n      name: \"\",\r\n      description: \"\",\r\n      picture: \"\",\r\n      cost: 1,\r\n      quantity: 0,\r\n    };\r\n    this.getProductData = this.getProductData.bind(this);\r\n    this.createProduct = this.createProduct.bind(this);\r\n    this.mounted = true;\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return this.mounted;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false;\r\n  }\r\n\r\n  async createProduct() {\r\n    const success = await ShopService.addNewProduct(this.getProductData());\r\n    console.log(success);\r\n    if (success) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  getProductData() {\r\n    const productObj = {\r\n      shopID: this.state.shopID,\r\n      name: this.state.name,\r\n      description: this.state.description,\r\n      picture: this.state.picture,\r\n      cost: this.state.cost,\r\n      quantity: this.state.quantity,\r\n    };\r\n\r\n    return productObj;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth=\"md\"\r\n        open={this.props.addingProduct}\r\n        onClose={this.props.onClose}\r\n      >\r\n        <DialogTitle>Add Product Menu</DialogTitle>\r\n        <DialogContent style={{ display: \"flex\" }}>\r\n          <div\r\n            style={{\r\n              flex: \"0 0 330px\",\r\n              alignSelf: \"center\",\r\n            }}\r\n          >\r\n            <Product\r\n              canEditProduct={false}\r\n              canBuy={false}\r\n              canOpen={false}\r\n              product={this.getProductData()}\r\n            />\r\n          </div>\r\n\r\n          <div style={{ flex: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Name\"\r\n              value={this.state.name}\r\n              onChange={(event) => {\r\n                this.setState({ name: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Description\"\r\n              rowsMax={4}\r\n              multiline\r\n              value={this.state.description}\r\n              onChange={(event) => {\r\n                this.setState({ description: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Picture URL\"\r\n              value={this.state.picture}\r\n              onChange={(event) => {\r\n                this.setState({ picture: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <Typography\r\n              style={{\r\n                fontSize: \"14px\",\r\n                margin: \"5px\",\r\n                color: \"#184800\",\r\n              }}\r\n            >\r\n              Update Cost\r\n            </Typography>\r\n\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                borderRadius: \"15px\",\r\n                backgroundColor: \"#CFFFB7\",\r\n                height: \"40px\",\r\n                alignItems: \"center\",\r\n                marginBottom: \"10px\",\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.state.cost > 1 &&\r\n                    this.setState({ cost: this.state.cost - 1 });\r\n                }}\r\n              >\r\n                <RemoveIcon fontSize=\"small\" />\r\n              </IconButton>\r\n              <input\r\n                type=\"number\"\r\n                value={this.state.cost}\r\n                style={{\r\n                  backgroundColor: \"inherit\",\r\n                  border: \"none\",\r\n                  width: \"100%\",\r\n                  height: \"75%\",\r\n                  textAlign: \"center\",\r\n                }}\r\n                onChange={(event) => {\r\n                  event.target.value > 0 &&\r\n                    this.setState({ cost: Number(event.target.value) });\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  var newCost = this.state.cost + 1;\r\n                  this.setState({ cost: newCost });\r\n                }}\r\n              >\r\n                <AddIcon fontSize=\"small\"></AddIcon>\r\n              </IconButton>\r\n            </Grid>\r\n\r\n            <Typography\r\n              style={{\r\n                fontSize: \"14px\",\r\n                margin: \"5px\",\r\n                color: \"#184800\",\r\n              }}\r\n            >\r\n              Update Quantity\r\n            </Typography>\r\n\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                borderRadius: \"15px\",\r\n                backgroundColor: \"#CFFFB7\",\r\n                height: \"40px\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.state.quantity > 0 &&\r\n                    this.setState({ quantity: this.state.quantity - 1 });\r\n                }}\r\n              >\r\n                <RemoveIcon fontSize=\"small\" />\r\n              </IconButton>\r\n\r\n              <input\r\n                type=\"number\"\r\n                value={this.state.quantity}\r\n                style={{\r\n                  backgroundColor: \"inherit\",\r\n                  border: \"none\",\r\n                  width: \"100%\",\r\n                  height: \"75%\",\r\n                  textAlign: \"center\",\r\n                }}\r\n                onChange={(event) => {\r\n                  event.target.value >= 0 &&\r\n                    this.setState({ quantity: Number(event.target.value) });\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.setState({ quantity: this.state.quantity + 1 });\r\n                }}\r\n              >\r\n                <AddIcon fontSize=\"small\"></AddIcon>\r\n              </IconButton>\r\n            </Grid>\r\n          </div>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Chip\r\n            label=\"Add Product\"\r\n            onClick={this.createProduct}\r\n            style={{ background: PRIMARY_THEME_COLOR, color: \"white\" }}\r\n          />\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddProduct;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport TopBar from \"../topBar/TopBar\";\r\nimport ShopService from \"../../services/ShopService\";\r\nimport DisplayProducts from \"./DisplayProducts\";\r\nimport { Grid, IconButton, Typography } from \"@material-ui/core\";\r\nimport AddCircleRoundedIcon from \"@material-ui/icons/AddCircleRounded\";\r\nimport AddProduct from \"./AddProduct\";\r\nimport firebase from \"../../services/firebase.config\";\r\nimport { setProducts } from \"../../redux/actions\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    shops: state.shops,\r\n    products: state.products,\r\n    userShops: state.userShops,\r\n  };\r\n};\r\n\r\nclass ShopProducts extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      shopID: this.props.match ? this.props.match.params.shopID : \"\",\r\n      openedShop: null,\r\n      addingProduct: false,\r\n      userShop: false,\r\n    };\r\n    this.getShopDetails = this.getShopDetails.bind(this);\r\n    this.addProduct = this.addProduct.bind(this);\r\n    this.displayShopProducts = this.displayShopProducts.bind(this);\r\n    this.isUserShop = this.isUserShop.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, nextState) {}\r\n\r\n  componentWillUnmount() {\r\n    this.props.setProducts([]);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getShopDetails();\r\n    this.getShopProduct();\r\n  }\r\n\r\n  getShopDetails() {\r\n    if (this.props.shops) {\r\n      const openedShop = this.props.shops\r\n        .filter((shop) => shop.shopID === this.state.shopID)\r\n        .pop();\r\n\r\n      this.setState({ openedShop: openedShop });\r\n      if (firebase.auth().currentUser) {\r\n        const userEmail = firebase.auth().currentUser.email;\r\n        if (openedShop.ownerEmail === userEmail) {\r\n          this.setState({ userShop: true });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  addProduct() {\r\n    this.setState({ addingProduct: true });\r\n  }\r\n\r\n  closeAddProduct() {\r\n    this.setState({ addingProduct: false });\r\n  }\r\n\r\n  async getShopProduct() {\r\n    await ShopService.getShopProducts(this.state.shopID);\r\n  }\r\n\r\n  isUserShop() {\r\n    return false;\r\n  }\r\n\r\n  displayShopProducts() {\r\n    return (\r\n      <div>\r\n        <DisplayProducts\r\n          products={this.props.products}\r\n          isUserShop={this.state.userShop}\r\n          title={this.props.openedShop && this.props.openedShop.name}\r\n        />\r\n        {this.state.addingProduct && (\r\n          <AddProduct\r\n            shopID={this.state.shopID}\r\n            addingProduct={this.state.addingProduct}\r\n            onClose={() => this.closeAddProduct()}\r\n          />\r\n        )}\r\n        {this.state.userShop && (\r\n          <IconButton>\r\n            <AddCircleRoundedIcon\r\n              fontSize=\"large\"\r\n              onClick={() => this.addProduct()}\r\n              htmlColor=\"black\"\r\n            />\r\n          </IconButton>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ height: \"100vh\" }}>\r\n        <TopBar />\r\n        <div>\r\n          <Grid\r\n            container\r\n            direction=\"column\"\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item>\r\n              <Typography\r\n                variant=\"h5\"\r\n                style={{ paddingTop: \"20px\", fontFamily: \"cursive\" }}\r\n              >\r\n                {this.state.openedShop && this.state.openedShop.name}\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid item>{this.displayShopProducts()}</Grid>\r\n          </Grid>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { setProducts })(ShopProducts);\r\n","import React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  TextField,\r\n  Chip,\r\n  InputAdornment,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport Shop from \"./Shop\";\r\nimport { PRIMARY_THEME_COLOR } from \"../../constants/constants\";\r\nimport ShopService from \"../../services/ShopService\";\r\nimport firebase from \"../../services/firebase.config\";\r\n\r\nclass AddShop extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ownerEmail: \"\",\r\n      name: \"\",\r\n      description: \"\",\r\n      picture: \"\",\r\n      tag: \"\",\r\n      tags: [],\r\n      helper: \"\",\r\n      missingFields: false,\r\n    };\r\n    this.getShopData = this.getShopData.bind(this);\r\n    this.deleteAllTags = this.deleteAllTags.bind(this);\r\n    this.addTag = this.addTag.bind(this);\r\n    this.addShop = this.addShop.bind(this);\r\n    this.mounted = true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      ownerEmail: firebase.auth().currentUser\r\n        ? firebase.auth().currentUser.email\r\n        : \"\",\r\n    });\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return this.mounted;\r\n  }\r\n\r\n  async addShop() {\r\n    console.log(this.state.name);\r\n    if (this.state.name !== \"\" && this.state.description !== \"\") {\r\n      var success = await ShopService.createShop(this.getShopData());\r\n\r\n      if (success) {\r\n        this.props.onClose();\r\n      }\r\n    } else {\r\n      this.setState({ missingFields: true });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false;\r\n  }\r\n\r\n  addTag() {\r\n    if (this.state.tag !== \"\") {\r\n      const tags = this.state.tags;\r\n      tags.push(this.state.tag);\r\n      this.setState({ tags: tags, tag: \"\" });\r\n    }\r\n  }\r\n\r\n  deleteAllTags() {\r\n    this.setState({ tags: [] });\r\n  }\r\n\r\n  getShopData() {\r\n    const shopObj = {\r\n      ownerEmail: this.state.ownerEmail,\r\n      name: this.state.name,\r\n      description: this.state.description,\r\n      picture: this.state.picture,\r\n      tags: this.state.tags,\r\n    };\r\n\r\n    return shopObj;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth=\"md\"\r\n        open={this.props.addingShop}\r\n        onClose={this.props.onClose}\r\n      >\r\n        <DialogTitle>Add Shop Menu</DialogTitle>\r\n        <DialogContent style={{ display: \"flex\" }}>\r\n          <div\r\n            style={{\r\n              flex: \"0 0 330px\",\r\n              alignSelf: \"center\",\r\n            }}\r\n          >\r\n            <Shop\r\n              canEditShop={false}\r\n              canOpen={false}\r\n              shop={this.getShopData()}\r\n            />\r\n          </div>\r\n\r\n          <div style={{ flex: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Name\"\r\n              value={this.state.name}\r\n              error={this.state.missingFields && this.state.name === \"\"}\r\n              helperText={\r\n                this.state.missingFields && this.state.name === \"\" && \"Required\"\r\n              }\r\n              onChange={(event) => {\r\n                this.setState({ name: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Description\"\r\n              rowsMax={4}\r\n              multiline\r\n              value={this.state.description}\r\n              error={this.state.missingFields && this.state.description === \"\"}\r\n              helperText={\r\n                this.state.missingFields &&\r\n                this.state.description === \"\" &&\r\n                \"Required\"\r\n              }\r\n              onChange={(event) => {\r\n                this.setState({ description: event.target.value });\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              fullWidth\r\n              label=\"Add Tags\"\r\n              value={this.state.tag}\r\n              onChange={(event) => {\r\n                this.setState({ tag: event.target.value });\r\n              }}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton onClick={this.addTag}>\r\n                      <AddCircleIcon htmlColor=\"#00ab55\" />\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            <Button\r\n              color=\"secondary\"\r\n              style={{ float: \"right\" }}\r\n              onClick={this.deleteAllTags}\r\n            >\r\n              Delete All Tags\r\n            </Button>\r\n\r\n            <TextField\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Update Picture URL\"\r\n              value={this.state.picture}\r\n              onChange={(event) => {\r\n                this.setState({ picture: event.target.value });\r\n              }}\r\n            />\r\n          </div>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Chip\r\n            label=\"Create Shop\"\r\n            onClick={this.addShop}\r\n            style={{ background: PRIMARY_THEME_COLOR, color: \"white\" }}\r\n          />\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddShop;\r\n","import { IconButton } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport TopBar from \"../topBar/TopBar\";\r\nimport BrowseShops from \"./BrowseShops\";\r\nimport AddCircleRoundedIcon from \"@material-ui/icons/AddCircleRounded\";\r\nimport AddShop from \"./AddShop\";\r\nimport { PRIMARY_THEME_COLOR } from \"../../constants/constants\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { userShops: state.userShops, isAuthenticated: state.isAuthenticated };\r\n};\r\n\r\nclass UserShops extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.addNewShop = this.addNewShop.bind(this);\r\n    this.closeAddShop = this.closeAddShop.bind(this);\r\n  }\r\n\r\n  addNewShop() {\r\n    this.setState({ addingShop: true });\r\n  }\r\n\r\n  closeAddShop() {\r\n    this.setState({ addingShop: false });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ height: \"100vh\" }}>\r\n        {/** Redirect to home page if you're not authenticated anymore */}\r\n        {!this.props.isAuthenticated && <Redirect to={{ pathname: \"/home\" }} />}\r\n        <TopBar />\r\n        <BrowseShops\r\n          shops={this.props.userShops}\r\n          canEdit={true}\r\n          title={\"My Shops\"}\r\n        />\r\n\r\n        <IconButton onClick={this.addNewShop}>\r\n          <AddCircleRoundedIcon fontSize=\"large\" htmlColor={\"black\"} />\r\n        </IconButton>\r\n\r\n        {this.state.addingShop && (\r\n          <AddShop\r\n            addingShop={this.state.addingShop}\r\n            onClose={this.closeAddShop}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {})(UserShops);\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport CreateAccount from \"./CreateAccount\";\r\nimport SignIn from \"./SignIn\";\r\nimport Home from \"./Home\";\r\nimport { connect } from \"react-redux\";\r\nimport Checkout from \"./Checkout/Checkout\";\r\nimport ShopProducts from \"./product/ShopProducts\";\r\nimport UserShops from \"./shop/UserShops\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isAuthenticated: state.isAuthenticated };\r\n};\r\n\r\nclass Main extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidUpdate(prevProps, nextState) {}\r\n\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"BackgroundHome\">\r\n        <Router>\r\n          <Switch>\r\n            <Route path=\"/sign-in\" exact component={() => <SignIn />} />\r\n\r\n            <Route\r\n              path=\"/create-account\"\r\n              exact\r\n              component={() => <CreateAccount />}\r\n            />\r\n\r\n            <Route path=\"/checkout\" component={() => <Checkout />} />\r\n\r\n            <Route path=\"/home\" exact component={() => <Home />} />\r\n\r\n            <Route path=\"/my-shops\" component={() => <UserShops />} />\r\n\r\n            <Route path=\"/shop/:shopID\" component={ShopProducts} />\r\n\r\n            <Route render={() => <Redirect to=\"/home\" />} />\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {})(Main);\r\n","import \"./App.css\";\r\nimport Main from \"./components/Main\";\r\nimport \"react-app-polyfill/stable\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Provider store={store}>\r\n        <Main />\r\n      </Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{251:function(t,e,n){},252:function(t,e,n){},283:function(t,e,n){},491:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(18),r=n.n(i),c=(n(251),n(252),n(29)),o=n(23),l=n(38),u=n(37),d=(n(113),n(232)),h=n(20),j=n(54),b=n.n(j),p=n(59),O=n(81),m=n(27),x=n(94),g=n.n(x),f=new(function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"getUsers",value:function(){return g.a.get("api/merchants")}},{key:"getShopById",value:function(){return g.a.get("api/getShopById")}},{key:"getShops",value:function(){return g.a.get("api/getShops")}},{key:"createAccount",value:function(){var t=Object(O.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.post("api/addMerchant",e).then((function(t){return t&&t.data?[t.data.authenticate&&t.data.merchantAdded,t.data.message]:[!1,"Unable to create an account!"]}),(function(t){return[!1,"Unable to create an account!"]}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"authenticateMerchant",value:function(){var t=Object(O.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.post("api/authenticate",e).then((function(t){return!(!t||!t.data)&&t.data.authenticate}),(function(t){return!1}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}()),v=n(2),y=(s.a.Component,n(74)),S=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){return Object(c.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)(y.Section,{className:"has-background-black-ter",children:Object(v.jsxs)(y.Box,{children:[Object(v.jsx)("h1",{className:"title",children:"Mini Shopify"}),Object(v.jsx)("p",{className:"subtitle",children:this.props.title})]})})})}}]),n}(s.a.Component),w=n(134),A=n(524),C=n(493),k=n(533),I=n(531),N=n(528),P=n(529),T=n(530),D=n(523),E=n(234),F=n(138),_=n.n(F),B=n(139),R=n.n(B),U=n(137),V=n.n(U),L=n(231),M=n.n(L),W=n(230),G=n.n(W),H=n(58),q="SET_AUTHENTICATE",J=function(t){return{type:q,payload:{isAuthenticated:t}}},X=Object(E.a)({spacing:[0,4,8,16,32,64]}),K=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={username:"",name:"",number:"",email:"",password:"",redirectToSignIn:!1,showPassword:!1,registrationFailed:!1},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.toggleVisibility=a.toggleVisibility.bind(Object(m.a)(a)),a}return Object(o.a)(n,[{key:"toggleVisibility",value:function(){var t=this.state.showPassword;this.setState({showPassword:!t})}},{key:"handleSubmit",value:function(){var t=Object(O.a)(b.a.mark((function t(){var e,n,a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e={username:this.state.username,name:this.state.name,number:this.state.number,email:this.state.email,password:this.state.password},n=!1,"Please enter username and password.",console.log(e),""===e.username||""===e.password){t.next=11;break}return t.next=6,f.createAccount(e);case 6:a=t.sent,s=Object(p.a)(a,2),n=s[0],s[1],n?(this.setState({isRegistered:!0}),this.props.setAuthenticated(!0)):this.setState({registrationFailed:!0});case 11:Object(w.toast)({message:n?"Account successfully registered.":"Account Already Exists. Please try again with a different username or email.",type:n?"is-primary":"is-danger",dismissible:!0,pauseOnHover:!0});case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(v.jsxs)("div",{style:{backgroundColor:D.a[50]},children:[this.state.redirectToSignIn&&Object(v.jsx)(h.a,{to:{pathname:"/sign-in"}}),this.props.isAuthenticated&&Object(v.jsx)(h.a,{to:{pathname:"/"}}),Object(v.jsxs)(A.a,{container:!0,component:"main",style:{height:"100vh"},children:[Object(v.jsx)("div",{className:"LeftGridPhoto"}),Object(v.jsxs)("div",{className:"RightGrid",children:[Object(v.jsx)("div",{className:"AuthPlacement",children:Object(v.jsxs)("p",{children:["Already have an account?",Object(v.jsx)("a",{className:"AuthRedirectLink",onClick:function(){return t.setState({redirectToSignIn:!0})},children:"Sign In"})]})}),Object(v.jsxs)("div",{className:"SignInGrid",children:[Object(v.jsxs)("div",{className:"AuthDescriptionBox",children:[Object(v.jsxs)("div",{className:"AuthDescription",children:[Object(v.jsx)(C.a,{component:"h1",variant:"h5",style:{paddingBottom:"10px",alignSelf:"start"},children:"Create your account on MiniShopify"}),Object(v.jsx)(C.a,{component:"h1",variant:"subtitle1",style:{paddingBottom:"10px",alignSelf:"flex-start"},children:"Enter your details below."})]}),Object(v.jsx)("div",{children:Object(v.jsx)(k.a,{title:"Firebase",children:Object(v.jsx)("img",{className:"FireboxImg",src:"/static/icons/firebase.png"})})})]}),Object(v.jsxs)("form",{style:{width:"100%",marginTop:"1px"},noValidate:!0,action:void 0,children:[Object(v.jsxs)(A.a,{container:!0,style:{flexGrow:1},children:[Object(v.jsx)(A.a,{sm:6,item:!0,style:{paddingRight:"10px"},children:Object(v.jsx)(I.a,{InputProps:{startAdornment:Object(v.jsx)(N.a,{position:"start",children:Object(v.jsx)(G.a,{htmlColor:"rgb(0, 171, 85)"})})},value:this.state.name,onChange:function(e){return t.setState({name:e.target.value})},variant:"outlined",margin:"normal",fullWidth:!0,label:"Name",name:"name",required:!0,autoFocus:!0})}),Object(v.jsx)(A.a,{sm:6,item:!0,style:{paddingLeft:"10px"},children:Object(v.jsx)(I.a,{helperText:this.state.registrationFailed?"Account Already Exists":"",InputProps:{startAdornment:Object(v.jsx)(N.a,{position:"start",children:Object(v.jsx)(V.a,{htmlColor:"rgb(0, 171, 85)"})})},value:this.state.username,onChange:function(e){return t.setState({username:e.target.value})},error:this.state.registrationFailed,variant:"outlined",margin:"normal",fullWidth:!0,label:"Username",name:"username",required:!0,autoFocus:!0})})]}),Object(v.jsx)(I.a,{helperText:this.state.registrationFailed?"Account Already Exists":"",InputProps:{startAdornment:Object(v.jsx)(N.a,{position:"start",children:Object(v.jsx)(M.a,{htmlColor:"rgb(0, 171, 85)"})})},value:this.state.email,onChange:function(e){return t.setState({email:e.target.value})},error:this.state.registrationFailed,variant:"outlined",margin:"normal",fullWidth:!0,id:"email",type:"email",label:"Email Address",name:"email",autoComplete:"email",required:!0,autoFocus:!0}),Object(v.jsx)(I.a,{InputProps:{endAdornment:Object(v.jsx)(N.a,{position:"end",children:Object(v.jsx)(P.a,{onClick:this.toggleVisibility,children:this.state.showPassword?Object(v.jsx)(_.a,{htmlColor:"rgb(0, 171, 85)"}):Object(v.jsx)(R.a,{htmlColor:"rgb(0, 171, 85)"})})})},value:this.state.password,onChange:function(e){return t.setState({password:e.target.value})},color:"primary",variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:this.state.showPassword?"text":"password",required:!0,autoComplete:"current-password"}),Object(v.jsx)(T.a,{fullWidth:!0,variant:"contained",color:"primary",style:{padding:"10px",margin:X.spacing(3,0,2),backgroundColor:"rgb(0, 171, 85)",borderRadius:"12px"},onClick:this.handleSubmit,children:"Register"})]})]})]})]})]})}}]),n}(s.a.Component),z=Object(H.b)((function(t){return{isAuthenticated:t.isAuthenticated}}),{setAuthenticated:J})(K),Q=(n(283),Object(E.a)({spacing:[0,4,8,16,32,64]})),Y=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).handleMouseDownPassword=function(t){t.preventDefault()},a.state={username:"",password:"",authenticateFailed:!1,redirectToCreateAccount:!1,showPassword:!1},a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.toggleVisibility=a.toggleVisibility.bind(Object(m.a)(a)),a}return Object(o.a)(n,[{key:"handleSubmit",value:function(){var t=Object(O.a)(b.a.mark((function t(){var e,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={username:this.state.username,password:this.state.password},t.next=3,f.authenticateMerchant(e);case 3:(n=t.sent)?Object(w.toast)({message:"Welcome back "+e.username+"!",type:"is-primary",dismissible:!0,pauseOnHover:!0}):this.setState({authenticateFailed:!0}),this.props.setAuthenticated(n);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"toggleVisibility",value:function(){var t=this.state.showPassword;this.setState({showPassword:!t})}},{key:"render",value:function(){var t=this;return Object(v.jsxs)("div",{style:{backgroundColor:D.a[50]},children:[this.state.redirectToCreateAccount&&Object(v.jsx)(h.a,{to:{pathname:"/create-account"}}),this.props.isAuthenticated&&Object(v.jsx)(h.a,{to:{pathname:"/"}}),Object(v.jsxs)(A.a,{container:!0,component:"main",style:{height:"100vh"},children:[Object(v.jsx)("div",{className:"LeftGridPhoto"}),Object(v.jsxs)("div",{className:"RightGrid",children:[Object(v.jsx)("div",{className:"AuthPlacement",children:Object(v.jsxs)("p",{children:["Don't have an account?",Object(v.jsx)("a",{className:"AuthRedirectLink",onClick:function(){return t.setState({redirectToCreateAccount:!0})},children:"Get started"})]})}),Object(v.jsxs)("div",{className:"SignInGrid",children:[Object(v.jsxs)("div",{className:"AuthDescriptionBox",children:[Object(v.jsxs)("div",{className:"AuthDescription",children:[Object(v.jsx)(C.a,{component:"h1",variant:"h5",style:{paddingBottom:"10px",alignSelf:"start"},children:"Sign in to MiniShopify"}),Object(v.jsx)(C.a,{component:"h1",variant:"subtitle1",style:{paddingBottom:"10px",alignSelf:"flex-start"},children:"Enter your details below."})]}),Object(v.jsx)("div",{children:Object(v.jsx)(k.a,{title:"Firebase",children:Object(v.jsx)("img",{className:"FireboxImg",src:"/static/icons/firebase.png"})})})]}),Object(v.jsxs)("form",{style:{width:"100%",marginTop:"1px"},noValidate:!0,action:void 0,children:[Object(v.jsx)(I.a,{helperText:this.state.authenticateFailed?"Invalid Input.":"",InputProps:{startAdornment:Object(v.jsx)(N.a,{position:"start",children:Object(v.jsx)(V.a,{htmlColor:"rgb(0, 171, 85)"})})},value:this.state.username,onChange:function(e){return t.setState({username:e.target.value})},error:this.state.authenticateFailed,variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",required:!0,autoFocus:!0,style:{borderRadius:"12px"}}),Object(v.jsx)(I.a,{helperText:this.state.authenticateFailed?"Invalid Input.":"",InputProps:{endAdornment:Object(v.jsx)(N.a,{position:"end",children:Object(v.jsx)(P.a,{onClick:this.toggleVisibility,children:this.state.showPassword?Object(v.jsx)(_.a,{htmlColor:"rgb(0, 171, 85)"}):Object(v.jsx)(R.a,{htmlColor:"rgb(0, 171, 85)"})})})},value:this.state.password,onChange:function(e){return t.setState({password:e.target.value})},error:this.state.authenticateFailed,color:"primary",variant:"outlined",margin:"normal",fullWidth:!0,label:"Password",type:this.state.showPassword?"text":"password",required:!0,autoComplete:"current-password",style:{borderRadius:"20px"}}),Object(v.jsx)(T.a,{fullWidth:!0,variant:"contained",color:"primary",style:{padding:"10px",margin:Q.spacing(3,0,2),backgroundColor:"rgb(0, 171, 85)",borderRadius:"12px"},onClick:this.handleSubmit,children:"Sign In"})]})]})]})]})]})}}]),n}(s.a.Component),Z=Object(H.b)((function(t){return{isAuthenticated:t.isAuthenticated}}),{setAuthenticated:J})(Y),$=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={shops:[]},a.test=a.test.bind(Object(m.a)(a)),a.getByID=a.getByID.bind(Object(m.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.test()}},{key:"test",value:function(){var t=this;f.getShops().then((function(e){t.setState({shops:e.data})}))}},{key:"getByID",value:function(){var t=this.state.shopidvalue,e=this.state.shops.find((function(e){return e.shopID===parseInt(t)}));console.log(e)}},{key:"render",value:function(){var t=this;return Object(v.jsxs)("div",{children:[Object(v.jsx)(S,{title:"Shops"}),Object(v.jsx)(y.Box,{className:"box has-text-white has-background-black-ter",children:Object(v.jsx)("div",{class:"field",children:Object(v.jsxs)("div",{class:"control",children:[Object(v.jsx)("input",{class:"input",type:"text",placeholder:"Search by Merchant ID",onChange:function(e){return t.setState({shopidvalue:e.target.value})}}),Object(v.jsx)(y.Button,{onClick:this.getByID,className:"is-primary",children:"Search"})]})})}),Object(v.jsx)("h1",{children:" Shops Table "}),Object(v.jsxs)("table",{class:"table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:" Shop Name "}),Object(v.jsx)("td",{children:" Shop Description "}),Object(v.jsx)("td",{children:" Shop ID "}),Object(v.jsx)("td",{children:" Shop Items "})]})}),Object(v.jsx)("tbody",{children:this.state.shops.map((function(t){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[" ",t.name," "]}),Object(v.jsxs)("td",{children:[" ",t.description," "]}),Object(v.jsxs)("td",{children:[" ",t.shopID," "]}),Object(v.jsxs)("td",{children:[" ",t.shopItems," "]})]},t.shopID)}))})]})]})}}]),n}(s.a.Component),tt=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={users:[]},a.test=a.test.bind(Object(m.a)(a)),a.signOut=a.signOut.bind(Object(m.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.test()}},{key:"test",value:function(){var t=this;f.getUsers().then((function(e){t.setState({users:e.data})}))}},{key:"signOut",value:function(){this.props.setAuthenticated(!1)}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(S,{title:"Home Page"}),Object(v.jsx)(y.Button,{onClick:this.signOut,className:"is-primary",children:"Sign Out"}),Object(v.jsx)("h1",{children:" USERS TABLE "}),Object(v.jsxs)("table",{class:"table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:" Username "}),Object(v.jsx)("td",{children:" Name "}),Object(v.jsx)("td",{children:" Number "}),Object(v.jsx)("td",{children:" Email "}),Object(v.jsx)("td",{children:" Password "})]})}),Object(v.jsx)("tbody",{children:this.state.users.map((function(t){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{children:[" ",t.username," "]}),Object(v.jsxs)("td",{children:[" ",t.name," "]}),Object(v.jsxs)("td",{children:[" ",t.number," "]}),Object(v.jsxs)("td",{children:[" ",t.email," "]}),Object(v.jsxs)("td",{children:[" ",t.password," "]})]},t.id)}))})]})]})}}]),n}(s.a.Component),et=Object(H.b)(null,{setAuthenticated:J})(tt),nt=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(t,e){}},{key:"componentDidMount",value:function(){console.log("deployment setting: ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))}},{key:"render",value:function(){var t=this;return Object(v.jsx)("div",{children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(h.d,{children:[Object(v.jsx)(h.b,{path:"/sign-in",exact:!0,component:function(){return Object(v.jsx)(Z,{})}}),Object(v.jsx)(h.b,{path:"/create-account",component:function(){return Object(v.jsx)(z,{})}}),Object(v.jsx)(h.b,{path:"/home",component:function(){return t.props.isAuthenticated?Object(v.jsx)(et,{}):Object(v.jsx)(h.a,{to:"/sign-in"})}}),Object(v.jsx)(h.b,{path:"/shop",component:function(){return t.props.isAuthenticated?Object(v.jsx)($,{}):Object(v.jsx)(h.a,{to:"/sign-in"})}}),Object(v.jsx)(h.b,{render:function(){return t.props.isAuthenticated?Object(v.jsx)(h.a,{to:"/home"}):Object(v.jsx)(h.a,{to:"/sign-in"})}})]})})})}}]),n}(s.a.Component),at=Object(H.b)((function(t){return{isAuthenticated:t.isAuthenticated}}),{})(nt),st=(n(284),n(233)),it=n(168).createStore;var rt={isAuthenticated:!1},ct=it((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,e=arguments.length>1?arguments[1]:void 0,n=Object(st.a)({},t);return e.type===q&&(n.isAuthenticated=e.payload.isAuthenticated),n}),function(){try{var t=localStorage.getItem("state");if(null===t)return;return JSON.parse(t)}catch(e){return void console.log(e)}}(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());ct.subscribe((function(){return function(t){try{var e=JSON.stringify(t);localStorage.setItem("state",e)}catch(n){console.log(n)}}(ct.getState())}));var ot=ct;var lt=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(H.a,{store:ot,children:Object(v.jsx)(at,{})})})},ut=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,534)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),s(t),i(t),r(t)}))};r.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(lt,{})}),document.getElementById("root")),ut()}},[[491,1,2]]]);
//# sourceMappingURL=main.0d0967aa.chunk.js.map